{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?b89b","webpack:///./src/views/Tags.vue?db61","webpack:///./src/views/Home.vue?ee26","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/App.vue?774d","webpack:///./src/App.vue?3746","webpack:///./src/utils/api.js","webpack:///./src/store/modules/auth.js","webpack:///./src/store/modules/favorites.js","webpack:///./src/store/modules/tags.js","webpack:///./src/store/index.js","webpack:///./src/views/Home.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?03e8","webpack:///./src/views/Home.vue?86b4","webpack:///./src/views/Login.vue","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?4fe3","webpack:///./src/views/Login.vue?b6b6","webpack:///./src/views/Favorites.vue","webpack:///src/views/Favorites.vue","webpack:///./src/views/Favorites.vue?b2bd","webpack:///./src/views/Favorites.vue?e9b1","webpack:///./src/views/FavoriteDetail.vue","webpack:///src/views/FavoriteDetail.vue","webpack:///./src/views/FavoriteDetail.vue?8699","webpack:///./src/views/FavoriteDetail.vue?53d7","webpack:///./src/views/Tags.vue","webpack:///src/views/Tags.vue","webpack:///./src/views/Tags.vue?917d","webpack:///./src/views/Tags.vue?5a1b","webpack:///./src/views/Search.vue","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?4b83","webpack:///./src/views/Search.vue?acaa","webpack:///./src/views/Settings.vue","webpack:///src/views/Settings.vue","webpack:///./src/views/Settings.vue?f2c5","webpack:///./src/views/Settings.vue?0ac0","webpack:///./src/views/NotFound.vue","webpack:///src/views/NotFound.vue","webpack:///./src/views/NotFound.vue?fb9d","webpack:///./src/views/NotFound.vue?379d","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/views/Favorites.vue?153a","webpack:///./src/assets/img/default-avatar.png","webpack:///./src/views/Login.vue?5dca","webpack:///./src/views/Settings.vue?af7c","webpack:///./src/views/Search.vue?fbf0","webpack:///./src/assets/img/video-placeholder.jpg","webpack:///./src/views/NotFound.vue?c772","webpack:///./src/assets/img/image-placeholder.jpg","webpack:///./src/views/FavoriteDetail.vue?ceb0"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","attrs","_v","staticClass","on","$event","type","indexOf","_k","keyCode","onSearch","arguments","model","searchQuery","callback","$$v","expression","preventDefault","isLoggedIn","scopedSlots","_u","fn","_s","username","proxy","confirmLogout","Date","getFullYear","logout","staticRenderFns","computed","mapGetters","methods","mapActions","trim","$router","path","query","q","catch","$bvModal","show","created","localStorage","getItem","$store","dispatch","component","apiClient","axios","baseURL","headers","interceptors","request","use","config","token","store","state","auth","Authorization","error","Promise","reject","response","status","user","accounts","activeAccount","loading","sessionStatus","sessionError","syncLoading","lastSyncTime","getters","isAuthenticated","currentUser","telegramAccounts","hasActiveAccount","isLoading","hasError","errorMessage","mutations","SET_TOKEN","SET_USER","find","acc","isActive","SET_ACCOUNTS","SET_ACTIVE_ACCOUNT","account","ADD_ACCOUNT","UPDATE_ACCOUNT","updatedAccount","index","findIndex","id","REMOVE_ACCOUNT","accountId","filter","SET_LOADING","SET_ERROR","LOGOUT","SET_SESSION_STATUS","SET_SESSION_ERROR","SET_SYNC_LOADING","SET_LAST_SYNC_TIME","time","actions","commit","console","userData","post","message","credentials","setItem","Error","accountData","newAccount","newActiveAccountData","map","updateData","put","delete","remainingAccounts","clearError","removeItem","router","toISOString","settings","updatedSettings","namespaced","favorites","favorite","filters","tags","category","search","sortBy","sortOrder","pagination","page","limit","total","totalPages","allFavorites","currentFavorite","currentFilters","currentPagination","SET_FAVORITES","SET_FAVORITE","SET_FILTERS","SET_PAGINATION","CLEAR_FILTERS","ADD_FAVORITE","unshift","UPDATE_FAVORITE","updatedFavorite","f","_id","REMOVE_FAVORITE","rootGetters","params","join","favoriteId","tagName","updateFiltersAndFetch","newFilters","clearAllFilters","setPage","allTags","SET_TAGS","ADD_TAG","tag","existingIndex","UPDATE_TAG","updatedTag","REMOVE_TAG","tagData","Vue","Vuex","Store","activeTab","_e","successMessage","handleLogin","loginForm","$set","password","handleRegister","registerForm","passwordMatchState","confirmPassword","apiId","apiHash","sessionString","showSessionHelp","isRegisterFormValid","login","redirectPath","$route","redirect","replace","$bvToast","toast","title","variant","solid","register","typeOptions","applyFilters","categoryOptions","tagOptions","sortByOptions","toggleSortOrder","class","sortOrderIcon","directives","rawName","domProps","target","composing","syncFavorites","_m","viewMode","_l","content","thumbnailUrl","url","_f","caption","text","formatDate","savedAt","confirmDelete","changePage","currentPage","deleteFavorite","favoriteToDelete","count","dateString","$_formatDate","date","toLocaleDateString","year","month","day","truncate","substring","fetchTags","fetchFavorites","watch","immediate","handler","newQuery","localPath","videoPlaceholder","fileName","telegramMessageId","removeTag","addTag","newTag","fileId","fileSize","toFixed","mimeType","duration","width","height","isDownloaded","imagePlaceholder","require","existingTag","toLowerCase","updatedTags","updateFavoriteTags","tagToRemove","confirm","removeTagFromFavorite","fetchFavoriteById","newId","showAddTagModal","fields","item","color","style","backgroundColor","showEditTagModal","showDeleteTagModal","isEditing","tagForm","handleTagSubmit","resetTagForm","showTagModal","deleteTag","showDeleteModal","tagToDelete","label","sortable","bvModalEvent","updateTag","createTag","performSearch","clearSearch","includes","stopPropagation","filterByTag","newSearchQuery","newPage","oldPage","saveSuccess","saveSettings","defaultView","itemsPerPage","showAddAccountModal","telegramId","lastSync","hour","minute","switchActiveAccount","confirmDeleteAccount","profilePhoto","defaultAvatar","firstName","lastName","createdAt","lastLogin","isEditingAccount","isAddAccountFormValid","handleAddAccountSubmit","resetAddAccountForm","showAddAccountModalForm","addAccountForm","deleteAccount","accountToDelete","set","updateUserSettings","setTimeout","showEditAccountModal","undefined","updateTelegramAccount","addTelegramAccount","switchTelegramAccount","deleteTelegramAccount","fetchCurrentUser","VueRouter","routes","Home","Login","meta","guestOnly","Favorites","requiresAuth","FavoriteDetail","Tags","Search","Settings","NotFound","base","process","beforeEach","async","to","from","next","fullPath","matched","some","record","BootstrapVue","IconsPlugin","productionTip","h","App","$mount"],"mappings":"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","file":"js/app.956d1e05.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=c3dbdc7c&prod&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=style&index=0&id=6faafcf3&prod&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=97b98a6e&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('header',[_c('b-navbar',{attrs:{\"toggleable\":\"lg\",\"type\":\"dark\",\"variant\":\"info\"}},[_c('b-container',[_c('b-navbar-brand',{attrs:{\"to\":\"/\"}},[_vm._v(\"Telegram收藏夹\")]),_c('b-navbar-toggle',{attrs:{\"target\":\"nav-collapse\"}}),_c('b-collapse',{attrs:{\"id\":\"nav-collapse\",\"is-nav\":\"\"}},[_c('b-navbar-nav',[_c('b-nav-item',{attrs:{\"to\":\"/\",\"exact\":\"\"}},[_vm._v(\"首页\")]),_c('b-nav-item',{attrs:{\"to\":\"/favorites\"}},[_vm._v(\"收藏内容\")]),_c('b-nav-item',{attrs:{\"to\":\"/tags\"}},[_vm._v(\"标签管理\")])],1),_c('b-navbar-nav',{staticClass:\"ml-auto\"},[_c('b-nav-form',{staticClass:\"d-flex my-2 my-lg-0\"},[_c('b-form-input',{staticClass:\"mr-sm-2\",attrs:{\"size\":\"sm\",\"placeholder\":\"搜索收藏...\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onSearch.apply(null, arguments)}},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}}),_c('b-button',{staticClass:\"my-2 my-sm-0\",attrs:{\"size\":\"sm\",\"type\":\"submit\",\"variant\":\"outline-light\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onSearch.apply(null, arguments)}}},[_c('i',{staticClass:\"bi bi-search\"})])],1),(_vm.isLoggedIn)?_c('b-nav-item-dropdown',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('em',{staticClass:\"text-white\"},[_vm._v(_vm._s(_vm.username))])]},proxy:true}],null,false,3043702746)},[_c('b-dropdown-item',{attrs:{\"to\":\"/settings\"}},[_vm._v(\"设置\")]),_c('b-dropdown-item',{on:{\"click\":_vm.confirmLogout}},[_vm._v(\"退出登录\")])],1):_c('b-nav-item',{attrs:{\"to\":\"/login\"}},[_vm._v(\"登录\")])],1)],1)],1)],1)],1),_c('main',{staticClass:\"container mt-4 flex-grow-1\"},[_c('router-view')],1),_c('footer',{staticClass:\"footer mt-5 py-3 bg-light text-center\"},[_c('b-container',[_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Telegram收藏夹查看系统 © \"+_vm._s(new Date().getFullYear()))])])],1),_c('b-modal',{attrs:{\"id\":\"logout-modal\",\"title\":\"确认退出\",\"ok-variant\":\"danger\",\"ok-title\":\"退出\"},on:{\"ok\":_vm.logout}},[_c('p',[_vm._v(\"确定要退出登录吗？\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <header>\n      <b-navbar toggleable=\"lg\" type=\"dark\" variant=\"info\">\n        <b-container>\n          <b-navbar-brand to=\"/\">Telegram收藏夹</b-navbar-brand>\n          <b-navbar-toggle target=\"nav-collapse\"></b-navbar-toggle>\n          <b-collapse id=\"nav-collapse\" is-nav>\n            <b-navbar-nav>\n              <b-nav-item to=\"/\" exact>首页</b-nav-item>\n              <b-nav-item to=\"/favorites\">收藏内容</b-nav-item>\n              <b-nav-item to=\"/tags\">标签管理</b-nav-item>\n            </b-navbar-nav>\n\n            <b-navbar-nav class=\"ml-auto\">\n              <b-nav-form class=\"d-flex my-2 my-lg-0\">\n                <b-form-input\n                  size=\"sm\"\n                  class=\"mr-sm-2\"\n                  placeholder=\"搜索收藏...\"\n                  v-model=\"searchQuery\"\n                  @keyup.enter=\"onSearch\"\n                ></b-form-input>\n                <b-button size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\" @click.prevent=\"onSearch\" variant=\"outline-light\">\n                  <i class=\"bi bi-search\"></i>\n                </b-button>\n              </b-nav-form>\n\n              <b-nav-item-dropdown right v-if=\"isLoggedIn\">\n                <template #button-content>\n                  <em class=\"text-white\">{{ username }}</em>\n                </template>\n                <b-dropdown-item to=\"/settings\">设置</b-dropdown-item>\n                <b-dropdown-item @click=\"confirmLogout\">退出登录</b-dropdown-item>\n              </b-nav-item-dropdown>\n              <b-nav-item v-else to=\"/login\">登录</b-nav-item>\n            </b-navbar-nav>\n          </b-collapse>\n        </b-container>\n      </b-navbar>\n    </header>\n\n    <main class=\"container mt-4 flex-grow-1\">\n      <router-view />\n    </main>\n\n    <footer class=\"footer mt-5 py-3 bg-light text-center\">\n      <b-container>\n        <span class=\"text-muted\">Telegram收藏夹查看系统 &copy; {{ new Date().getFullYear() }}</span>\n      </b-container>\n    </footer>\n\n    <b-modal id=\"logout-modal\" title=\"确认退出\" ok-variant=\"danger\" ok-title=\"退出\" @ok=\"logout\">\n      <p>确定要退出登录吗？</p>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      searchQuery: ''\n    };\n  },\n  computed: {\n    ...mapGetters('auth', ['isLoggedIn', 'username'])\n  },\n  methods: {\n    ...mapActions('auth', ['logout']), // 映射 auth 模块的 logout action\n    \n    // 全局搜索逻辑\n    onSearch() {\n      if (this.searchQuery.trim()) {\n        // 跳转到搜索页面，并传递搜索关键字作为查询参数\n        this.$router.push({\n          path: '/search',\n          query: { q: this.searchQuery.trim() }\n        }).catch(() => {}); // 捕获重复导航的错误\n        this.searchQuery = ''; // 清空搜索框\n      }\n    },\n\n    // 确认退出登录\n    confirmLogout() {\n      this.$bvModal.show('logout-modal');\n    }\n  },\n  // 在组件创建时尝试加载用户数据，以防页面刷新后 Vuex 状态丢失\n  created() {\n    // 仅在 isLoggedIn 为假，但 localStorage 中有 token 时尝试恢复会话\n    if (!this.isLoggedIn && localStorage.getItem('token')) {\n      this.$store.dispatch('auth/initializeAuth');\n    }\n  }\n};\n</script>\n\n<style>\n/* 全局样式 */\nbody {\n  background-color: #f5f5f5;\n  padding-top: 56px; /* 为固定导航栏留出空间 */\n}\n\n#app {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh; /* 确保 App 占据整个视口高度，使页脚始终在底部 */\n}\n\nmain {\n  flex: 1; /* 确保主内容区域占据可用空间，将页脚推到底部 */\n}\n\n.navbar {\n  background-color: #0088cc !important; /* Telegram蓝色 */\n}\n\n.navbar-brand, .nav-link {\n  color: white !important;\n}\n\n.btn-primary {\n  background-color: #0088cc !important;\n  border-color: #0088cc !important;\n}\n\n.btn-primary:hover {\n  background-color: #006699 !important;\n  border-color: #006699 !important;\n}\n\n.btn-outline-primary {\n  color: #0088cc !important;\n  border-color: #0088cc !important;\n}\n\n.btn-outline-primary:hover {\n  background-color: #0088cc !important;\n  color: white !important;\n}\n\n/* 覆盖 BootstrapVue 的一些默认颜色，使其更符合Telegram风格 */\n.badge.bg-info {\n  background-color: #0088cc !important;\n}\n\n/* 其他通用样式 */\n.card {\n  margin-bottom: 20px;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s;\n}\n\n.card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n}\n\n.loading, .empty-state {\n  text-align: center;\n  padding: 50px 0;\n}\n\n.empty-state i {\n  font-size: 5rem;\n  color: #dee2e6;\n}\n\n.empty-state h3 {\n  margin-top: 20px;\n  color: #6c757d;\n}\n\n.empty-state p {\n  color: #adb5bd;\n}\n\n.spinner-border {\n  width: 3rem;\n  height: 3rem;\n}\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=c3dbdc7c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=c3dbdc7c&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// src/utils/api.js - 请确保这个文件的内容是这样的！\nimport axios from 'axios';\nimport store from '../store'; // 导入 Vuex store 以获取 token (用于拦截器)\n\nconst apiClient = axios.create({\n  baseURL: '/api', // 后端 API 的基地址，前端请求会发到这里\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// 添加请求拦截器，自动添加 JWT token\napiClient.interceptors.request.use(config => {\n  // 确保在请求拦截器中，store 已经初始化\n  const token = store.state.auth.token; // 从 auth 模块获取 token\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// 可选：添加响应拦截器处理通用错误，例如 401 Unauthorized\napiClient.interceptors.response.use(response => {\n  return response;\n}, error => {\n  if (error.response && error.response.status === 401) {\n    // 如果是认证失败，清除 token 并重定向到登录页\n    // 注意：这里需要确保 store 已初始化且 dispatch 可用\n    store.dispatch('auth/logout'); // 调用 auth 模块的 logout action\n  }\n  return Promise.reject(error);\n});\n\nexport default apiClient; // 导出配置好的 Axios 实例","// src/store/modules/auth.js\nimport apiClient from '../../utils/api'; // 使用封装后的 Axios 实例\nimport router from '../../router'; // 导入 Vue Router 实例\n\n// 初始状态\nconst state = {\n  token: localStorage.getItem('token') || null, // 从 localStorage 初始化 token\n  user: null, // 当前用户信息\n  accounts: [], // 用户的 Telegram 账号列表\n  activeAccount: null, // 当前活跃的 Telegram 账号\n  loading: false, // 全局加载状态\n  error: null, // 全局错误信息\n  sessionStatus: 'idle', // 'idle', 'connecting', 'active', 'error'\n  sessionError: null,\n  syncLoading: false, // 同步收藏的加载状态\n  lastSyncTime: null // 上次同步时间\n};\n\n// Getters\nconst getters = {\n  isAuthenticated: state => !!state.token,\n  currentUser: state => state.user,\n  username: state => (state.user ? state.user.username : ''), // 获取用户名\n  telegramAccounts: state => state.accounts,\n  activeAccount: state => state.activeAccount,\n  hasActiveAccount: state => !!state.activeAccount,\n  isLoading: state => state.loading,\n  hasError: state => !!state.error,\n  errorMessage: state => state.error,\n  sessionStatus: state => state.sessionStatus,\n  sessionError: state => state.sessionError,\n  syncLoading: state => state.syncLoading,\n  lastSyncTime: state => state.lastSyncTime\n};\n\n// Mutations\nconst mutations = {\n  SET_TOKEN(state, token) {\n    state.token = token;\n  },\n  SET_USER(state, user) {\n    state.user = user;\n    if (user && user.accounts) {\n      state.accounts = user.accounts;\n      state.activeAccount = user.accounts.find(acc => acc.isActive) || null;\n    }\n  },\n  SET_ACCOUNTS(state, accounts) {\n    state.accounts = accounts;\n  },\n  SET_ACTIVE_ACCOUNT(state, account) {\n    state.activeAccount = account;\n  },\n  ADD_ACCOUNT(state, account) {\n    state.accounts.push(account);\n  },\n  UPDATE_ACCOUNT(state, updatedAccount) {\n    const index = state.accounts.findIndex(acc => acc.id === updatedAccount.id);\n    if (index !== -1) {\n      // 保持 isActive 属性，避免在渲染时闪烁\n      state.accounts.splice(index, 1, { ...updatedAccount, isActive: state.accounts[index].isActive });\n    }\n    // 如果更新的是活跃账号，也更新活跃账号状态\n    if (state.activeAccount && state.activeAccount.id === updatedAccount.id) {\n      state.activeAccount = { ...state.activeAccount, ...updatedAccount };\n    }\n  },\n  REMOVE_ACCOUNT(state, accountId) {\n    state.accounts = state.accounts.filter(acc => acc.id !== accountId);\n    if (state.activeAccount && state.activeAccount.id === accountId) {\n      // 移除活跃账号后，尝试设置第一个为新的活跃账号\n      state.activeAccount = state.accounts[0] || null;\n      if (state.activeAccount) {\n        state.activeAccount.isActive = true; // 理论上后端会返回新的活跃状态\n      }\n    }\n  },\n  SET_LOADING(state, loading) {\n    state.loading = loading;\n  },\n  SET_ERROR(state, error) {\n    state.error = error;\n  },\n  LOGOUT(state) {\n    state.token = null;\n    state.user = null;\n    state.accounts = [];\n    state.activeAccount = null;\n    state.loading = false;\n    state.error = null;\n    state.sessionStatus = 'idle';\n    state.sessionError = null;\n    state.syncLoading = false;\n    state.lastSyncTime = null;\n  },\n  SET_SESSION_STATUS(state, status) {\n    state.sessionStatus = status;\n  },\n  SET_SESSION_ERROR(state, error) {\n    state.sessionError = error;\n  },\n  SET_SYNC_LOADING(state, loading) {\n    state.syncLoading = loading;\n  },\n  SET_LAST_SYNC_TIME(state, time) {\n    state.lastSyncTime = time;\n  }\n};\n\n// Actions\nconst actions = {\n  // 初始化认证状态 (应用启动时调用)\n  async initializeAuth({ commit, dispatch, state }) {\n    if (state.token && !state.user) { // 只有当 token 存在但 user 数据未加载时才尝试加载\n      try {\n        await dispatch('fetchCurrentUser'); // 尝试获取用户信息\n        // 如果成功获取用户信息，则认证状态已恢复\n      } catch (error) {\n        console.error('初始化认证失败，token 可能无效:', error);\n        dispatch('logout'); // token 无效，执行登出\n      }\n    }\n  },\n\n  // 注册新用户\n  async register({ commit }, userData) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      const response = await apiClient.post('/auth/register', userData);\n      commit('SET_LOADING', false);\n      // 注册成功后，不直接登录，返回结果让组件处理\n      return response.data;\n    } catch (error) {\n      let errorMessage = '注册失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error; // 抛出错误以便组件处理\n    }\n  },\n\n  // 用户登录\n  async login({ commit, dispatch }, credentials) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      const response = await apiClient.post('/auth/login', credentials);\n      const { token, user } = response.data;\n\n      localStorage.setItem('token', token); // 保存 token 到 localStorage\n      // 不需要在这里设置 axios.defaults.headers.common，因为 api.js 已经有请求拦截器\n      \n      commit('SET_TOKEN', token); // 更新 Vuex 状态\n      commit('SET_USER', user); // 更新 Vuex 用户信息\n\n      commit('SET_LOADING', false);\n      return response.data; // 返回数据给组件，可能包含用户和 token\n    } catch (error) {\n      let errorMessage = '登录失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error; // 抛出错误以便组件处理\n    }\n  },\n\n  // 获取当前用户信息\n  async fetchCurrentUser({ commit, state }) {\n    // 只有在 token 存在且用户数据不存在时才加载，或者明确需要刷新时\n    if (!state.token) {\n        throw new Error('未认证用户');\n    }\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      const response = await apiClient.get('/auth/me');\n      const userData = response.data;\n\n      commit('SET_USER', userData); // 更新用户信息和账号列表\n\n      commit('SET_LOADING', false);\n      return userData;\n    } catch (error) {\n      let errorMessage = '获取用户信息失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  // 添加Telegram账号\n  async addTelegramAccount({ commit }, accountData) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      const response = await apiClient.post('/user/accounts', accountData);\n      const newAccount = response.data; // 后端返回新添加的账号信息\n      \n      // 添加到账号列表\n      commit('ADD_ACCOUNT', newAccount); \n      // 如果新添加的账号被设置为活跃，更新活跃账号\n      if (newAccount.isActive) {\n        commit('SET_ACTIVE_ACCOUNT', newAccount);\n      }\n\n      commit('SET_LOADING', false);\n      return newAccount;\n    } catch (error) {\n      let errorMessage = '添加Telegram账号失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  // 切换活跃Telegram账号\n  async switchTelegramAccount({ commit }, accountId) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      // 注意：后端 /api/user/accounts/:accountId/activate 路由是 POST 方法\n      const response = await apiClient.post(`/user/accounts/${accountId}/activate`);\n      const { token, account: newActiveAccountData } = response.data; // 后端返回新 token 和新的活跃账号信息\n\n      // 更新 token\n      localStorage.setItem('token', token);\n      // api.js 中的请求拦截器会处理 axios.defaults.headers.common['Authorization']\n      commit('SET_TOKEN', token);\n\n      // 更新所有账号的活跃状态\n      commit('SET_ACCOUNTS', state.accounts.map(acc => ({\n        ...acc,\n        isActive: acc.id === accountId // 确保只有当前切换的账号是活跃的\n      })));\n      commit('SET_ACTIVE_ACCOUNT', newActiveAccountData); // 更新活跃账号\n\n      commit('SET_LOADING', false);\n      return newActiveAccountData;\n    } catch (error) {\n      let errorMessage = '切换Telegram账号失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  // 更新Telegram账号信息 (仅更新部分字段，如 name, apiId, apiHash, sessionString)\n  async updateTelegramAccount({ commit }, { accountId, updateData }) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      const response = await apiClient.put(`/user/accounts/${accountId}`, updateData);\n      const updatedAccount = response.data;\n\n      commit('UPDATE_ACCOUNT', updatedAccount); // 更新 Vuex 中的账号列表\n      // 如果更新的是活跃账号，也更新活跃账号状态\n      if (state.activeAccount && state.activeAccount.id === updatedAccount.id) {\n        commit('SET_ACTIVE_ACCOUNT', { ...state.activeAccount, ...updatedAccount });\n      }\n\n      commit('SET_LOADING', false);\n      return updatedAccount;\n    } catch (error) {\n      let errorMessage = '更新Telegram账号失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  // 删除Telegram账号\n  async deleteTelegramAccount({ commit }, accountId) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      const response = await apiClient.delete(`/user/accounts/${accountId}`);\n      const { token, remainingAccounts } = response.data; // 后端返回新 token 和剩余账号列表\n\n      commit('REMOVE_ACCOUNT', accountId); // 从 Vuex 状态中移除账号\n\n      // 如果后端返回了新 token (因为删除了活跃账号)，则更新 token\n      if (token) {\n        localStorage.setItem('token', token);\n        // api.js 中的请求拦截器会处理 axios.defaults.headers.common['Authorization']\n        commit('SET_TOKEN', token);\n      }\n      // 后端应该在 remainingAccounts 中设置新的活跃账号，如果它返回了的话\n      // 否则，这里根据 removeAccount mutation 的逻辑处理活跃账号\n      // 注意：这里需要确保 SET_USER 和 SET_ACCOUNTS 的同步更新\n      if (remainingAccounts) {\n          commit('SET_ACCOUNTS', remainingAccounts);\n          commit('SET_ACTIVE_ACCOUNT', remainingAccounts.find(acc => acc.isActive) || null);\n      }\n\n\n      commit('SET_LOADING', false);\n      return response.data;\n    } catch (error) {\n      let errorMessage = '删除Telegram账号失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  // 清除错误信息\n  clearError({ commit }) {\n    commit('SET_ERROR', null);\n  },\n\n  // 用户登出\n  logout({ commit }) {\n    localStorage.removeItem('token'); // 清除 localStorage 中的 token\n    // api.js 中的请求拦截器会处理 axios.defaults.headers.common['Authorization'] 的删除\n\n    commit('LOGOUT'); // 更新 Vuex 状态\n    router.push('/login'); // 重定向到登录页\n  },\n\n  // 同步收藏 (用户手动触发)\n  async syncFavorites({ commit }) {\n    commit('SET_SYNC_LOADING', true); // 使用单独的同步加载状态\n    commit('SET_SESSION_ERROR', null); // 清除会话错误\n\n    try {\n      const response = await apiClient.post('/user/sync');\n      // 假设后端返回 { count: syncedCount, lastSyncTime: date }\n      commit('SET_LAST_SYNC_TIME', new Date().toISOString()); // 假设同步成功立即更新时间\n      commit('SET_SYNC_LOADING', false);\n      \n      // 可以在这里添加一些更新收藏列表的 dispatch\n      // dispatch('favorites/fetchFavorites', null, { root: true }); // 同步后刷新收藏列表\n\n      return response.data;\n    } catch (error) {\n      let errorMessage = '同步收藏失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_SESSION_ERROR', errorMessage); // 使用 sessionError 来显示同步错误\n      commit('SET_SYNC_LOADING', false);\n      throw error;\n    }\n  },\n\n  // 更新用户设置\n  async updateUserSettings({ commit }, settings) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      const response = await apiClient.put('/user/settings', settings);\n      const updatedSettings = response.data;\n\n      // 更新用户设置 (注意：只更新 user 对象中的 settings 部分)\n      commit('SET_USER', {\n        ...state.user, // 保持 user 对象的其他属性不变\n        settings: updatedSettings\n      });\n\n      commit('SET_LOADING', false);\n      return updatedSettings;\n    } catch (error) {\n      let errorMessage = '更新设置失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  }\n};\n\nexport default {\n  namespaced: true, // 启用命名空间\n  state,\n  getters,\n  actions,\n  mutations\n};","// src/store/modules/favorites.js\nimport apiClient from '../../utils/api'; // 使用封装后的 Axios 实例\n\n// 初始状态\nconst state = {\n  favorites: [], // 收藏内容列表\n  favorite: null, // 单个收藏详情\n  loading: false, // 加载状态\n  error: null, // 错误信息\n  // 过滤器和分页状态\n  filters: {\n    tags: [],      // 按标签过滤 (数组)\n    type: null,    // 按内容类型过滤 (字符串)\n    category: null, // 按分类过滤 (字符串)\n    search: null,  // 搜索关键字 (字符串)\n    sortBy: 'savedAt', // 排序字段\n    sortOrder: 'desc' // 排序顺序 'asc'/'desc'\n  },\n  pagination: {\n    page: 1,      // 当前页码\n    limit: 20,    // 每页限制数量\n    total: 0,     // 总条目数\n    totalPages: 0 // 总页数\n  }\n};\n\n// Getters\nconst getters = {\n  allFavorites: state => state.favorites,\n  currentFavorite: state => state.favorite,\n  isLoading: state => state.loading,\n  hasError: state => !!state.error,\n  errorMessage: state => state.error,\n  currentFilters: state => state.filters, // 重命名以避免与组件 data 冲突\n  currentPagination: state => state.pagination // 重命名以避免与组件 data 冲突\n};\n\n// Mutations\nconst mutations = {\n  SET_FAVORITES(state, favorites) {\n    state.favorites = favorites;\n  },\n  SET_FAVORITE(state, favorite) {\n    state.favorite = favorite;\n  },\n  SET_LOADING(state, loading) {\n    state.loading = loading;\n  },\n  SET_ERROR(state, error) {\n    state.error = error;\n  },\n  SET_FILTERS(state, filters) {\n    state.filters = { ...state.filters, ...filters };\n  },\n  SET_PAGINATION(state, pagination) {\n    state.pagination = { ...state.pagination, ...pagination };\n  },\n  CLEAR_FILTERS(state) {\n    state.filters = { // 重置为初始默认值\n      tags: [],\n      type: null,\n      search: null,\n      category: null,\n      sortBy: 'savedAt',\n      sortOrder: 'desc'\n    };\n  },\n  ADD_FAVORITE(state, favorite) {\n    state.favorites.unshift(favorite); // 新增的收藏通常显示在最前面\n    state.pagination.total++; // 更新总数\n  },\n  UPDATE_FAVORITE(state, updatedFavorite) {\n    const index = state.favorites.findIndex(f => f._id === updatedFavorite._id);\n    if (index !== -1) {\n      state.favorites.splice(index, 1, updatedFavorite);\n    }\n    // 如果当前正在查看这个收藏的详情页，也更新它\n    if (state.favorite && state.favorite._id === updatedFavorite._id) {\n      state.favorite = updatedFavorite;\n    }\n  },\n  REMOVE_FAVORITE(state, id) {\n    state.favorites = state.favorites.filter(f => f._id !== id);\n    state.pagination.total--; // 更新总数\n    // 如果当前正在查看这个收藏的详情页，清除它\n    if (state.favorite && state.favorite._id === id) {\n      state.favorite = null;\n    }\n  }\n};\n\n// Actions\nconst actions = {\n  async fetchFavorites({ commit, state, rootGetters }) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      // 构造查询参数\n      const params = {\n        page: state.pagination.page,\n        limit: state.pagination.limit,\n        sortBy: state.filters.sortBy,\n        sortOrder: state.filters.sortOrder\n      };\n\n      if (state.filters.tags && state.filters.tags.length > 0) {\n        // 后端期望 comma-separated string\n        params.tags = state.filters.tags.join(',');\n      }\n      if (state.filters.type) {\n        params.type = state.filters.type;\n      }\n      if (state.filters.category) {\n        params.category = state.filters.category;\n      }\n      if (state.filters.search) { // 全文搜索参数\n        params.search = state.filters.search;\n      }\n\n      const response = await apiClient.get('/favorites', { params });\n      \n      const { favorites, pagination } = response.data;\n      \n      commit('SET_FAVORITES', favorites);\n      commit('SET_PAGINATION', {\n        total: pagination.total,\n        page: pagination.page,\n        limit: pagination.limit,\n        totalPages: pagination.totalPages // 确保后端返回 totalPages\n      });\n      commit('SET_LOADING', false);\n    } catch (error) {\n      let errorMessage = '获取收藏列表失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  async fetchFavoriteById({ commit }, id) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      const response = await apiClient.get(`/favorites/${id}`);\n      commit('SET_FAVORITE', response.data);\n      commit('SET_LOADING', false);\n      return response.data;\n    } catch (error) {\n      let errorMessage = '获取收藏详情失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  // 增加/更新收藏的标签 (后端 API 是替换所有标签)\n  async updateFavoriteTags({ commit }, { favoriteId, tags }) { // tags 是一个数组\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      // 后端 updateFavoriteTags 服务是替换所有标签\n      const response = await apiClient.post(`/favorites/${favoriteId}/tags`, { tags }); // 注意：后端 tagRoutes POST /:id/tags 期望 body: { tags: [...] }\n      commit('UPDATE_FAVORITE', response.data);\n      commit('SET_LOADING', false);\n      return response.data;\n    } catch (error) {\n      let errorMessage = '更新收藏标签失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n  \n  // 从收藏中移除单个标签\n  async removeTagFromFavorite({ commit }, { favoriteId, tagName }) { // tagName 是字符串\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      // 后端 DELETE /api/favorites/:id/tags/:tagId 期望 :tagId 是标签名称字符串\n      const response = await apiClient.delete(`/favorites/${favoriteId}/tags/${tagName}`);\n      commit('UPDATE_FAVORITE', response.data); // 后端返回更新后的 Favorite\n      commit('SET_LOADING', false);\n      return response.data;\n    } catch (error) {\n      let errorMessage = '移除标签失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  async deleteFavorite({ commit, dispatch }, id) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      await apiClient.delete(`/favorites/${id}`);\n      commit('REMOVE_FAVORITE', id);\n      commit('SET_LOADING', false);\n      // 如果删除后当前页不满，尝试加载上一页\n      if (state.favorites.length === 0 && state.pagination.page > 1) {\n        commit('SET_PAGINATION', { page: state.pagination.page - 1 });\n        dispatch('fetchFavorites');\n      } else {\n        // 重新获取当前页，确保分页总数更新\n        dispatch('fetchFavorites');\n      }\n    } catch (error) {\n      let errorMessage = '删除收藏失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  // 更新过滤器并重新获取收藏\n  updateFiltersAndFetch({ commit, dispatch }, newFilters) {\n    commit('SET_FILTERS', newFilters);\n    commit('SET_PAGINATION', { page: 1 }); // 过滤器改变时重置到第一页\n    dispatch('fetchFavorites');\n  },\n\n  // 清除所有过滤器并重新获取收藏\n  clearAllFilters({ commit, dispatch }) {\n    commit('CLEAR_FILTERS');\n    commit('SET_PAGINATION', { page: 1 });\n    dispatch('fetchFavorites');\n  },\n\n  // 改变当前页码并重新获取收藏\n  setPage({ commit, dispatch }, page) {\n    commit('SET_PAGINATION', { page });\n    dispatch('fetchFavorites');\n  }\n};\n\nexport default {\n  namespaced: true, // 启用命名空间\n  state,\n  getters,\n  actions,\n  mutations\n};","// src/store/modules/tags.js\nimport apiClient from '../../utils/api'; // 使用封装后的 Axios 实例\n\n// 初始状态\nconst state = {\n  tags: [], // 标签列表\n  loading: false, // 加载状态\n  error: null // 错误信息\n};\n\n// Getters\nconst getters = {\n  allTags: state => state.tags,\n  isLoading: state => state.loading,\n  hasError: state => !!state.error,\n  errorMessage: state => state.error\n};\n\n// Mutations\nconst mutations = {\n  SET_TAGS(state, tags) {\n    state.tags = tags;\n  },\n  SET_LOADING(state, loading) {\n    state.loading = loading;\n  },\n  SET_ERROR(state, error) {\n    state.error = error;\n  },\n  ADD_TAG(state, tag) {\n    // 确保新标签添加到列表的正确位置，例如按计数排序\n    const existingIndex = state.tags.findIndex(t => t._id === tag._id);\n    if (existingIndex !== -1) {\n      // 如果标签已存在 (例如后端返回了已存在的标签)，则更新它\n      state.tags.splice(existingIndex, 1, tag);\n    } else {\n      state.tags.push(tag);\n      // 可以根据 count 重新排序：state.tags.sort((a, b) => b.count - a.count);\n    }\n  },\n  UPDATE_TAG(state, updatedTag) {\n    const index = state.tags.findIndex(t => t._id === updatedTag._id);\n    if (index !== -1) {\n      state.tags.splice(index, 1, updatedTag);\n    }\n  },\n  REMOVE_TAG(state, id) {\n    state.tags = state.tags.filter(t => t._id !== id);\n  }\n};\n\n// Actions\nconst actions = {\n  async fetchTags({ commit }) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      // 后端 /api/tags 路由默认返回按 count 降序排序的标签\n      const response = await apiClient.get('/tags');\n      commit('SET_TAGS', response.data);\n      commit('SET_LOADING', false);\n    } catch (error) {\n      let errorMessage = '获取标签失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  async createTag({ commit, dispatch }, tagData) { // tagData 包含 name 和可能有的 color\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      const response = await apiClient.post('/tags', tagData);\n      // 后端 createTag 服务会检查标签是否存在，如果存在会返回已存在的标签\n      // 这里统一处理，如果后端返回了已存在的标签，就直接更新列表\n      commit('ADD_TAG', response.data); // ADD_TAG mutation 现在会处理已存在的标签\n      commit('SET_LOADING', false);\n      return response.data;\n    } catch (error) {\n      let errorMessage = '创建标签失败';\n      // 如果后端明确返回标签名称已存在，可以更精确地提示\n      if (error.response && error.response.status === 400 && error.response.data && error.response.data.message === '用户名已存在') { // 假设后端返回此错误信息\n        errorMessage = '标签名称已存在';\n      } else if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  async updateTag({ commit }, { id, tagData }) { // tagData 包含 name 和可能有的 color\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      const response = await apiClient.put(`/tags/${id}`, tagData);\n      commit('UPDATE_TAG', response.data);\n      commit('SET_LOADING', false);\n      return response.data;\n    } catch (error) {\n      let errorMessage = '更新标签失败';\n      // 如果后端明确返回标签名称已存在，可以更精确地提示\n      if (error.response && error.response.status === 400 && error.response.data && error.response.data.message === '标签名称已存在') { // 假设后端返回此错误信息\n        errorMessage = '标签名称已存在';\n      } else if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  },\n\n  async deleteTag({ commit }, id) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n\n    try {\n      await apiClient.delete(`/tags/${id}`);\n      commit('REMOVE_TAG', id);\n      commit('SET_LOADING', false);\n    } catch (error) {\n      let errorMessage = '删除标签失败';\n      if (error.response && error.response.data && error.response.data.message) {\n        errorMessage = error.response.data.message;\n      }\n      commit('SET_ERROR', errorMessage);\n      commit('SET_LOADING', false);\n      throw error;\n    }\n  }\n};\n\nexport default {\n  namespaced: true, // 启用命名空间\n  state,\n  getters,\n  actions,\n  mutations\n};","// src/store/index.js\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport auth from './modules/auth';       // 导入认证模块\nimport favorites from './modules/favorites'; // 导入收藏夹模块\nimport tags from './modules/tags';       // 导入标签模块\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  // 注册所有模块，默认启用命名空间\n  modules: {\n    auth,\n    favorites,\n    tags\n  }\n});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home-page text-center my-5\"},[_c('h1',{staticClass:\"display-4\"},[_vm._v(\"欢迎来到Telegram收藏夹\")]),_c('p',{staticClass:\"lead\"},[_vm._v(\"轻松管理和查看您在Telegram中收藏的所有内容。\")]),_c('hr',{staticClass:\"my-4\"}),_c('p',[_vm._v(\"点击导航栏开始浏览您的收藏，或前往设置管理您的Telegram账户。\")]),(!_vm.isLoggedIn)?_c('b-button',{staticClass:\"me-2\",attrs:{\"variant\":\"primary\",\"to\":\"/login\"}},[_vm._v(\"立即登录\")]):_c('b-button',{attrs:{\"variant\":\"info\",\"to\":\"/favorites\"}},[_vm._v(\"查看我的收藏\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home-page text-center my-5\">\n    <h1 class=\"display-4\">欢迎来到Telegram收藏夹</h1>\n    <p class=\"lead\">轻松管理和查看您在Telegram中收藏的所有内容。</p>\n    <hr class=\"my-4\">\n    <p>点击导航栏开始浏览您的收藏，或前往设置管理您的Telegram账户。</p>\n    <b-button v-if=\"!isLoggedIn\" variant=\"primary\" to=\"/login\" class=\"me-2\">立即登录</b-button>\n    <b-button v-else variant=\"info\" to=\"/favorites\">查看我的收藏</b-button>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'Home',\n  computed: {\n    ...mapGetters('auth', ['isLoggedIn'])\n  }\n};\n</script>\n\n<style scoped>\n.home-page {\n  padding: 60px 0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=97b98a6e&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=97b98a6e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97b98a6e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-page\"},[_c('b-container',[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"md\":\"6\"}},[_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-card-header',{attrs:{\"header-tag\":\"nav\"}},[_c('b-nav',{attrs:{\"card-header\":\"\",\"tabs\":\"\"}},[_c('b-nav-item',{attrs:{\"active\":_vm.activeTab === 'login'},on:{\"click\":function($event){_vm.activeTab = 'login'}}},[_vm._v(\"登录\")]),_c('b-nav-item',{attrs:{\"active\":_vm.activeTab === 'register'},on:{\"click\":function($event){_vm.activeTab = 'register'}}},[_vm._v(\"注册\")])],1)],1),_c('b-card-body',[(_vm.hasError)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e(),(_vm.successMessage)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"success\"}},[_vm._v(_vm._s(_vm.successMessage))]):_vm._e(),(_vm.activeTab === 'login')?_c('div',[_c('h4',{staticClass:\"text-center mb-4\"},[_vm._v(\"登录到Telegram收藏夹\")]),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleLogin.apply(null, arguments)}}},[_c('b-form-group',{attrs:{\"label\":\"用户名:\",\"label-for\":\"username\"}},[_c('b-form-input',{attrs:{\"id\":\"username\",\"type\":\"text\",\"placeholder\":\"请输入用户名\",\"required\":\"\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('b-form-group',{attrs:{\"label\":\"密码:\",\"label-for\":\"password\"}},[_c('b-form-input',{attrs:{\"id\":\"password\",\"type\":\"password\",\"placeholder\":\"请输入密码\",\"required\":\"\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('b-button',{staticClass:\"w-100\",attrs:{\"type\":\"submit\",\"variant\":\"primary\",\"disabled\":_vm.isLoading}},[(_vm.isLoading)?_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\"}}):_vm._e(),_vm._v(\" 登录 \")],1)],1)],1):_vm._e(),(_vm.activeTab === 'register')?_c('div',[_c('h4',{staticClass:\"text-center mb-4\"},[_vm._v(\"注册新账号\")]),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleRegister.apply(null, arguments)}}},[_c('b-form-group',{attrs:{\"label\":\"用户名:\",\"label-for\":\"reg-username\"}},[_c('b-form-input',{attrs:{\"id\":\"reg-username\",\"type\":\"text\",\"placeholder\":\"请输入用户名\",\"required\":\"\"},model:{value:(_vm.registerForm.username),callback:function ($$v) {_vm.$set(_vm.registerForm, \"username\", $$v)},expression:\"registerForm.username\"}})],1),_c('b-form-group',{attrs:{\"label\":\"密码:\",\"label-for\":\"reg-password\"}},[_c('b-form-input',{attrs:{\"id\":\"reg-password\",\"type\":\"password\",\"placeholder\":\"请输入密码\",\"required\":\"\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}})],1),_c('b-form-group',{attrs:{\"label\":\"确认密码:\",\"label-for\":\"reg-confirm-password\"}},[_c('b-form-input',{attrs:{\"id\":\"reg-confirm-password\",\"type\":\"password\",\"placeholder\":\"请再次输入密码\",\"required\":\"\",\"state\":_vm.passwordMatchState},model:{value:(_vm.registerForm.confirmPassword),callback:function ($$v) {_vm.$set(_vm.registerForm, \"confirmPassword\", $$v)},expression:\"registerForm.confirmPassword\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.passwordMatchState}},[_vm._v(\" 两次输入的密码不一致 \")])],1),_c('h5',{staticClass:\"mt-4\"},[_vm._v(\"添加Telegram账号（可选）\")]),_c('p',{staticClass:\"text-muted small\"},[_vm._v(\"您可以在注册后在设置页面添加Telegram账号\")]),_c('b-form-group',{attrs:{\"label\":\"API ID:\",\"label-for\":\"api-id\"}},[_c('b-form-input',{attrs:{\"id\":\"api-id\",\"type\":\"text\",\"placeholder\":\"请输入Telegram API ID\"},model:{value:(_vm.registerForm.apiId),callback:function ($$v) {_vm.$set(_vm.registerForm, \"apiId\", $$v)},expression:\"registerForm.apiId\"}})],1),_c('b-form-group',{attrs:{\"label\":\"API Hash:\",\"label-for\":\"api-hash\"}},[_c('b-form-input',{attrs:{\"id\":\"api-hash\",\"type\":\"text\",\"placeholder\":\"请输入Telegram API Hash\"},model:{value:(_vm.registerForm.apiHash),callback:function ($$v) {_vm.$set(_vm.registerForm, \"apiHash\", $$v)},expression:\"registerForm.apiHash\"}})],1),_c('b-form-group',{attrs:{\"label\":\"SESSION_STRING:\",\"label-for\":\"session-string\"}},[_c('b-form-textarea',{attrs:{\"id\":\"session-string\",\"rows\":\"3\",\"placeholder\":\"请输入Telegram SESSION_STRING\"},model:{value:(_vm.registerForm.sessionString),callback:function ($$v) {_vm.$set(_vm.registerForm, \"sessionString\", $$v)},expression:\"registerForm.sessionString\"}}),_c('small',{staticClass:\"form-text text-muted\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.showSessionHelp = true}}},[_vm._v(\"如何获取SESSION_STRING?\")])])],1),_c('b-button',{staticClass:\"w-100\",attrs:{\"type\":\"submit\",\"variant\":\"primary\",\"disabled\":_vm.isLoading || !_vm.isRegisterFormValid}},[(_vm.isLoading)?_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\"}}):_vm._e(),_vm._v(\" 注册 \")],1)],1)],1):_vm._e()],1)],1)],1)],1)],1),_c('b-modal',{attrs:{\"id\":\"session-help-modal\",\"title\":\"如何获取SESSION_STRING\",\"ok-only\":\"\"},model:{value:(_vm.showSessionHelp),callback:function ($$v) {_vm.showSessionHelp=$$v},expression:\"showSessionHelp\"}},[_c('div',[_c('p',[_vm._v(\"获取Telegram SESSION_STRING的步骤：\")]),_c('ol',[_c('li',[_vm._v(\"安装Python 3.8+\")]),_c('li',[_vm._v(\"安装Telethon库: \"),_c('code',[_vm._v(\"pip install telethon\")])]),_c('li',[_vm._v(\"创建并运行以下Python脚本：\")])]),_c('pre',[_c('code',[_vm._v(\"from telethon.sync import TelegramClient\\nfrom telethon.sessions import StringSession\\n\\nAPI_ID = \\\"您的API_ID\\\"\\nAPI_HASH = \\\"您的API_HASH\\\"\\n\\nwith TelegramClient(StringSession(), API_ID, API_HASH) as client:\\n    print(\\\"请登录您的Telegram账号...\\\")\\n    client.start()\\n    session_string = client.session.save()\\n    print(f\\\"您的SESSION_STRING: {session_string}\\\")\")])]),_c('p',[_vm._v(\"运行脚本后，按照提示登录您的Telegram账号，然后复制生成的SESSION_STRING。\")]),_c('p',{staticClass:\"text-danger\"},[_vm._v(\"注意：SESSION_STRING包含敏感信息，请勿与他人分享。\")])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login-page\">\n    <b-container>\n      <b-row class=\"justify-content-center\">\n        <b-col md=\"6\">\n          <b-card no-body>\n            <b-card-header header-tag=\"nav\">\n              <b-nav card-header tabs>\n                <b-nav-item :active=\"activeTab === 'login'\" @click=\"activeTab = 'login'\">登录</b-nav-item>\n                <b-nav-item :active=\"activeTab === 'register'\" @click=\"activeTab = 'register'\">注册</b-nav-item>\n              </b-nav>\n            </b-card-header>\n\n            <b-card-body>\n              <b-alert v-if=\"hasError\" show variant=\"danger\">{{ errorMessage }}</b-alert>\n              <b-alert v-if=\"successMessage\" show variant=\"success\">{{ successMessage }}</b-alert>\n              \n              <div v-if=\"activeTab === 'login'\">\n                <h4 class=\"text-center mb-4\">登录到Telegram收藏夹</h4>\n                <b-form @submit.prevent=\"handleLogin\">\n                  <b-form-group\n                    label=\"用户名:\"\n                    label-for=\"username\"\n                  >\n                    <b-form-input\n                      id=\"username\"\n                      type=\"text\"\n                      v-model=\"loginForm.username\"\n                      placeholder=\"请输入用户名\"\n                      required\n                    ></b-form-input>\n                  </b-form-group>\n                  \n                  <b-form-group\n                    label=\"密码:\"\n                    label-for=\"password\"\n                  >\n                    <b-form-input\n                      id=\"password\"\n                      type=\"password\"\n                      v-model=\"loginForm.password\"\n                      placeholder=\"请输入密码\"\n                      required\n                    ></b-form-input>\n                  </b-form-group>\n                  \n                  <b-button type=\"submit\" variant=\"primary\" class=\"w-100\" :disabled=\"isLoading\">\n                    <b-spinner v-if=\"isLoading\" small type=\"grow\"></b-spinner> 登录\n                  </b-button>\n                </b-form>\n              </div>\n              \n              <div v-if=\"activeTab === 'register'\">\n                <h4 class=\"text-center mb-4\">注册新账号</h4>\n                <b-form @submit.prevent=\"handleRegister\">\n                  <b-form-group\n                    label=\"用户名:\"\n                    label-for=\"reg-username\"\n                  >\n                    <b-form-input\n                      id=\"reg-username\"\n                      type=\"text\"\n                      v-model=\"registerForm.username\"\n                      placeholder=\"请输入用户名\"\n                      required\n                    ></b-form-input>\n                  </b-form-group>\n                  \n                  <b-form-group\n                    label=\"密码:\"\n                    label-for=\"reg-password\"\n                  >\n                    <b-form-input\n                      id=\"reg-password\"\n                      type=\"password\"\n                      v-model=\"registerForm.password\"\n                      placeholder=\"请输入密码\"\n                      required\n                    ></b-form-input>\n                  </b-form-group>\n                  \n                  <b-form-group\n                    label=\"确认密码:\"\n                    label-for=\"reg-confirm-password\"\n                  >\n                    <b-form-input\n                      id=\"reg-confirm-password\"\n                      type=\"password\"\n                      v-model=\"registerForm.confirmPassword\"\n                      placeholder=\"请再次输入密码\"\n                      required\n                      :state=\"passwordMatchState\"\n                    ></b-form-input>\n                    <b-form-invalid-feedback :state=\"passwordMatchState\">\n                        两次输入的密码不一致\n                    </b-form-invalid-feedback>\n                  </b-form-group>\n\n                  <h5 class=\"mt-4\">添加Telegram账号（可选）</h5>\n                  <p class=\"text-muted small\">您可以在注册后在设置页面添加Telegram账号</p>\n                  \n                  <b-form-group label=\"API ID:\" label-for=\"api-id\">\n                    <b-form-input id=\"api-id\" type=\"text\" v-model=\"registerForm.apiId\" placeholder=\"请输入Telegram API ID\"></b-form-input>\n                  </b-form-group>\n                  \n                  <b-form-group label=\"API Hash:\" label-for=\"api-hash\">\n                    <b-form-input id=\"api-hash\" type=\"text\" v-model=\"registerForm.apiHash\" placeholder=\"请输入Telegram API Hash\"></b-form-input>\n                  </b-form-group>\n                  \n                  <b-form-group label=\"SESSION_STRING:\" label-for=\"session-string\">\n                    <b-form-textarea id=\"session-string\" v-model=\"registerForm.sessionString\" rows=\"3\" placeholder=\"请输入Telegram SESSION_STRING\"></b-form-textarea>\n                    <small class=\"form-text text-muted\">\n                      <a href=\"#\" @click.prevent=\"showSessionHelp = true\">如何获取SESSION_STRING?</a>\n                    </small>\n                  </b-form-group>\n                  \n                  <b-button type=\"submit\" variant=\"primary\" class=\"w-100\" :disabled=\"isLoading || !isRegisterFormValid\">\n                    <b-spinner v-if=\"isLoading\" small type=\"grow\"></b-spinner> 注册\n                  </b-button>\n                </b-form>\n              </div>\n            </b-card-body>\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n    \n    <b-modal id=\"session-help-modal\" title=\"如何获取SESSION_STRING\" v-model=\"showSessionHelp\" ok-only>\n      <div>\n        <p>获取Telegram SESSION_STRING的步骤：</p>\n        <ol>\n          <li>安装Python 3.8+</li>\n          <li>安装Telethon库: <code>pip install telethon</code></li>\n          <li>创建并运行以下Python脚本：</li>\n        </ol>\n        <pre><code>from telethon.sync import TelegramClient\nfrom telethon.sessions import StringSession\n\nAPI_ID = \"您的API_ID\"\nAPI_HASH = \"您的API_HASH\"\n\nwith TelegramClient(StringSession(), API_ID, API_HASH) as client:\n    print(\"请登录您的Telegram账号...\")\n    client.start()\n    session_string = client.session.save()\n    print(f\"您的SESSION_STRING: {session_string}\")</code></pre>\n        <p>运行脚本后，按照提示登录您的Telegram账号，然后复制生成的SESSION_STRING。</p>\n        <p class=\"text-danger\">注意：SESSION_STRING包含敏感信息，请勿与他人分享。</p>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\n\nexport default {\n  name: 'Login',\n  \n  data() {\n    return {\n      activeTab: 'login', // 默认显示登录表单\n      showSessionHelp: false, // 控制 SESSION_STRING 帮助模态框显示\n      successMessage: '', // 注册成功提示信息\n      loginForm: {\n        username: '',\n        password: ''\n      },\n      registerForm: {\n        username: '',\n        password: '',\n        confirmPassword: '',\n        apiId: '',\n        apiHash: '',\n        sessionString: ''\n      }\n    };\n  },\n  \n  computed: {\n    ...mapGetters('auth', ['isLoading', 'hasError', 'errorMessage']), // 从 auth 模块映射加载和错误状态\n    \n    passwordMatchState() {\n      // 密码和确认密码一致性验证\n      if (this.registerForm.password.length === 0 && this.registerForm.confirmPassword.length === 0) {\n        return null; // 初始状态不显示验证错误\n      }\n      return this.registerForm.password === this.registerForm.confirmPassword;\n    },\n\n    isRegisterFormValid() {\n      // 检查必填字段\n      if (!this.registerForm.username || !this.registerForm.password || !this.registerForm.confirmPassword) {\n        return false;\n      }\n      // 密码一致性\n      if (this.registerForm.password !== this.registerForm.confirmPassword) {\n        return false;\n      }\n      // 如果提供了任何一个 Telegram API 凭证，则要求全部提供\n      const { apiId, apiHash, sessionString } = this.registerForm;\n      if (apiId || apiHash || sessionString) {\n        return apiId && apiHash && sessionString;\n      }\n      return true;\n    }\n  },\n  \n  methods: {\n    ...mapActions('auth', ['login', 'register', 'clearError']), // 从 auth 模块映射 actions\n    \n    // 处理用户登录\n    async handleLogin() {\n      this.clearError(); // 清除之前的错误信息\n      this.successMessage = ''; // 清除成功信息\n\n      if (!this.loginForm.username || !this.loginForm.password) {\n        this.$bvToast.toast('请输入用户名和密码', { title: '提示', variant: 'warning', solid: true });\n        return;\n      }\n      \n      try {\n        const result = await this.login({\n          username: this.loginForm.username,\n          password: this.loginForm.password\n        });\n        \n        // 登录成功后，根据路由中的 redirect 参数进行跳转，否则跳转到收藏页\n        const redirectPath = this.$route.query.redirect || '/favorites';\n        this.$router.replace(redirectPath); // 使用 replace 避免在历史记录中留下登录页\n        \n        this.loginForm.username = ''; // 清空表单\n        this.loginForm.password = '';\n      } catch (error) {\n        // 错误信息会由 Vuex 映射到 errorMessage\n        this.$bvToast.toast(this.errorMessage || '登录失败，请重试', {\n          title: '登录错误',\n          variant: 'danger',\n          solid: true\n        });\n      }\n    },\n    \n    // 处理用户注册\n    async handleRegister() {\n      this.clearError(); // 清除之前的错误信息\n      this.successMessage = ''; // 清除成功信息\n\n      if (!this.isRegisterFormValid) {\n        this.$bvToast.toast('请检查表单字段，确保密码一致且Telegram凭证完整', { title: '验证失败', variant: 'warning', solid: true });\n        return;\n      }\n      \n      try {\n        const userData = {\n          username: this.registerForm.username,\n          password: this.registerForm.password\n        };\n        \n        // 如果提供了API凭证，添加到注册数据中\n        if (this.registerForm.apiId && this.registerForm.apiHash && this.registerForm.sessionString) {\n          userData.telegramAccounts = [{\n            name: '默认账号', // 注册时默认名称\n            apiId: this.registerForm.apiId,\n            apiHash: this.registerForm.apiHash,\n            sessionString: this.registerForm.sessionString\n          }];\n        }\n        \n        await this.register(userData);\n        \n        // 注册成功后切换到登录标签并显示成功信息\n        this.activeTab = 'login';\n        this.successMessage = '注册成功，请登录！';\n        \n        // 清空注册表单\n        this.registerForm = {\n          username: '',\n          password: '',\n          confirmPassword: '',\n          apiId: '',\n          apiHash: '',\n          sessionString: ''\n        };\n\n        this.$bvToast.toast('注册成功，请登录', {\n          title: '注册成功',\n          variant: 'success',\n          solid: true\n        });\n\n      } catch (error) {\n        // 错误信息会由 Vuex 映射到 errorMessage\n        this.$bvToast.toast(this.errorMessage || '注册失败，请稍后重试', {\n          title: '注册错误',\n          variant: 'danger',\n          solid: true\n        });\n      }\n    }\n  },\n  \n  created() {\n    this.clearError(); // 组件创建时清除可能存在的错误信息\n  }\n};\n</script>\n\n<style scoped>\n.login-page {\n  padding-top: 60px; /* 为 App.vue 中的固定导航栏留出空间 */\n}\n\n/* 覆盖 BootstrapVue Card Header Tabs 的一些样式 */\n.card-header .nav-tabs .nav-link {\n  color: #0088cc;\n}\n\n.card-header .nav-tabs .nav-link.active {\n  color: white;\n  background-color: #0088cc;\n  border-color: #0088cc;\n}\n\n.card-header .nav-tabs {\n  border-bottom: 1px solid #dee2e6; /* 恢复默认的底部边框 */\n}\n\npre {\n  background-color: #f8f9fa;\n  padding: 1rem;\n  border-radius: 0.25rem;\n  overflow-x: auto;\n}\n\ncode {\n  color: #d63384;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=162e6c60&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=162e6c60&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"162e6c60\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"favorites-page\"},[_c('div',{staticClass:\"filter-toolbar mb-4\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3 mb-2\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"内容类型\")]),_c('b-form-select',{attrs:{\"options\":_vm.typeOptions},on:{\"change\":_vm.applyFilters},model:{value:(_vm.filters.type),callback:function ($$v) {_vm.$set(_vm.filters, \"type\", $$v)},expression:\"filters.type\"}})],1),_c('div',{staticClass:\"col-md-3 mb-2\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"分类\")]),_c('b-form-select',{attrs:{\"options\":_vm.categoryOptions},on:{\"change\":_vm.applyFilters},model:{value:(_vm.filters.category),callback:function ($$v) {_vm.$set(_vm.filters, \"category\", $$v)},expression:\"filters.category\"}})],1),_c('div',{staticClass:\"col-md-3 mb-2\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"标签\")]),_c('b-form-select',{attrs:{\"options\":_vm.tagOptions,\"multiple\":\"\"},on:{\"change\":_vm.applyFilters},model:{value:(_vm.filters.tags),callback:function ($$v) {_vm.$set(_vm.filters, \"tags\", $$v)},expression:\"filters.tags\"}})],1),_c('div',{staticClass:\"col-md-3 mb-2\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"排序方式\")]),_c('div',{staticClass:\"d-flex\"},[_c('b-form-select',{staticClass:\"me-2\",attrs:{\"options\":_vm.sortByOptions},on:{\"change\":_vm.applyFilters},model:{value:(_vm.filters.sortBy),callback:function ($$v) {_vm.$set(_vm.filters, \"sortBy\", $$v)},expression:\"filters.sortBy\"}}),_c('b-button',{attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":_vm.toggleSortOrder}},[_c('i',{class:_vm.sortOrderIcon})])],1)])]),_c('div',{staticClass:\"row mt-3\"},[_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchQuery),expression:\"searchQuery\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"搜索收藏...\"},domProps:{\"value\":(_vm.searchQuery)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.search.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.searchQuery=$event.target.value}}}),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\")])])]),_c('div',{staticClass:\"col-md-4 text-end\"},[_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":_vm.syncLoading || !_vm.hasActiveAccount},on:{\"click\":_vm.syncFavorites}},[_c('i',{staticClass:\"bi bi-arrow-repeat me-1\"}),_vm._v(\" 同步收藏 \")])],1)])])])]),(_vm.loading)?_c('div',{staticClass:\"text-center my-5\"},[_vm._m(0),_c('p',{staticClass:\"mt-2\"},[_vm._v(\"正在加载收藏内容...\")])]):(_vm.hasError)?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")]):(_vm.favorites.length === 0)?_c('div',{staticClass:\"text-center my-5\"},[_vm._m(1)]):_c('div',[_c('div',{staticClass:\"view-toggle mb-3 text-end\"},[_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"btn\",class:{'btn-primary': _vm.viewMode === 'grid', 'btn-outline-primary': _vm.viewMode !== 'grid'},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.viewMode = 'grid'}}},[_c('i',{staticClass:\"bi bi-grid-3x3-gap\"})]),_c('button',{staticClass:\"btn\",class:{'btn-primary': _vm.viewMode === 'list', 'btn-outline-primary': _vm.viewMode !== 'list'},attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.viewMode = 'list'}}},[_c('i',{staticClass:\"bi bi-list\"})])])]),(_vm.viewMode === 'grid')?_c('div',{staticClass:\"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4\"},_vm._l((_vm.favorites),function(favorite){return _c('div',{key:favorite._id,staticClass:\"col\"},[_c('div',{staticClass:\"card h-100\"},[(favorite.type === 'photo' || favorite.type === 'video')?_c('div',{staticClass:\"card-img-top favorite-media\"},[(favorite.type === 'video')?_c('div',{staticClass:\"video-thumbnail position-relative\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":favorite.content.thumbnailUrl || '/assets/img/video-placeholder.jpg',\"alt\":\"视频缩略图\"}}),_vm._m(2,true)]):_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":favorite.content.url || '/assets/img/image-placeholder.jpg',\"alt\":\"图片\"}})]):(favorite.type === 'document')?_c('div',{staticClass:\"card-img-top text-center p-3 bg-light\"},[_c('i',{staticClass:\"bi bi-file-earmark-text display-4\"})]):(favorite.type === 'link')?_c('div',{staticClass:\"card-img-top text-center p-3 bg-light\"},[_c('i',{staticClass:\"bi bi-link-45deg display-4\"})]):_c('div',{staticClass:\"card-img-top text-center p-3 bg-light\"},[_c('i',{staticClass:\"bi bi-chat-quote display-4\"})]),_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\" \"+_vm._s(_vm._f(\"truncate\")(favorite.content.caption || favorite.content.text || '无标题',50))+\" \")]),_c('p',{staticClass:\"card-text text-muted small\"},[_vm._v(\" \"+_vm._s(_vm.formatDate(favorite.savedAt))+\" · \"+_vm._s(favorite.category)+\" \")]),_c('div',{staticClass:\"tags mt-2\"},_vm._l(((favorite.tags || [])),function(tag){return _c('span',{key:tag,staticClass:\"badge bg-info me-1 mb-1\"},[_vm._v(\" \"+_vm._s(tag)+\" \")])}),0)]),_c('div',{staticClass:\"card-footer bg-white border-top-0\"},[_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('router-link',{staticClass:\"btn btn-sm btn-outline-primary\",attrs:{\"to\":`/favorites/${favorite._id}`}},[_vm._v(\" 查看详情 \")]),_c('button',{staticClass:\"btn btn-sm btn-outline-danger\",on:{\"click\":function($event){return _vm.confirmDelete(favorite)}}},[_c('i',{staticClass:\"bi bi-trash\"})])],1)])])])}),0):_vm._e()]),_c('div',{staticClass:\"pagination-container mt-4 d-flex justify-content-center\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.pagination.total,\"per-page\":_vm.pagination.limit,\"aria-controls\":\"favorites-table\"},on:{\"change\":_vm.changePage},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1),_c('b-modal',{attrs:{\"id\":\"delete-modal\",\"title\":\"确认删除\"},on:{\"ok\":_vm.deleteFavorite}},[_c('p',[_vm._v(\"确定要删除这个收藏吗？此操作无法撤销。\")])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"spinner-border text-primary\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"visually-hidden\"},[_vm._v(\"加载中...\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"empty-state\"},[_c('i',{staticClass:\"bi bi-bookmark-star display-1 text-muted\"}),_c('h3',{staticClass:\"mt-3\"},[_vm._v(\"暂无收藏内容\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"您可以点击\\\"同步收藏\\\"按钮从Telegram同步您的收藏内容\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"play-icon\"},[_c('i',{staticClass:\"bi bi-play-circle-fill\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"favorites-page\">\n    <div class=\"filter-toolbar mb-4\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <div class=\"row\">\n            <div class=\"col-md-3 mb-2\">\n              <label class=\"form-label\">内容类型</label>\n              <b-form-select v-model=\"filters.type\" :options=\"typeOptions\" @change=\"applyFilters\"></b-form-select>\n            </div>\n            <div class=\"col-md-3 mb-2\">\n              <label class=\"form-label\">分类</label>\n              <b-form-select v-model=\"filters.category\" :options=\"categoryOptions\" @change=\"applyFilters\"></b-form-select>\n            </div>\n            <div class=\"col-md-3 mb-2\">\n              <label class=\"form-label\">标签</label>\n              <b-form-select v-model=\"filters.tags\" :options=\"tagOptions\" multiple @change=\"applyFilters\"></b-form-select>\n            </div>\n            <div class=\"col-md-3 mb-2\">\n              <label class=\"form-label\">排序方式</label>\n              <div class=\"d-flex\">\n                <b-form-select v-model=\"filters.sortBy\" :options=\"sortByOptions\" @change=\"applyFilters\" class=\"me-2\"></b-form-select>\n                <b-button @click=\"toggleSortOrder\" variant=\"outline-secondary\">\n                  <i :class=\"sortOrderIcon\"></i>\n                </b-button>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"row mt-3\">\n            <div class=\"col-md-8\">\n              <div class=\"input-group\">\n                <input type=\"text\" class=\"form-control\" placeholder=\"搜索收藏...\" v-model=\"searchQuery\" @keyup.enter=\"search\">\n                <button class=\"btn btn-primary\" type=\"button\" @click=\"search\">搜索</button>\n              </div>\n            </div>\n            <div class=\"col-md-4 text-end\">\n              <b-button variant=\"success\" @click=\"syncFavorites\" :disabled=\"syncLoading || !hasActiveAccount\">\n                <i class=\"bi bi-arrow-repeat me-1\"></i> 同步收藏\n              </b-button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div v-if=\"loading\" class=\"text-center my-5\">\n      <div class=\"spinner-border text-primary\" role=\"status\">\n        <span class=\"visually-hidden\">加载中...</span>\n      </div>\n      <p class=\"mt-2\">正在加载收藏内容...</p>\n    </div>\n    \n    <div v-else-if=\"hasError\" class=\"alert alert-danger\">\n      {{ errorMessage }}\n    </div>\n    \n    <div v-else-if=\"favorites.length === 0\" class=\"text-center my-5\">\n      <div class=\"empty-state\">\n        <i class=\"bi bi-bookmark-star display-1 text-muted\"></i>\n        <h3 class=\"mt-3\">暂无收藏内容</h3>\n        <p class=\"text-muted\">您可以点击\"同步收藏\"按钮从Telegram同步您的收藏内容</p>\n      </div>\n    </div>\n    \n    <div v-else>\n      <div class=\"view-toggle mb-3 text-end\">\n        <div class=\"btn-group\">\n          <button type=\"button\" class=\"btn\" :class=\"{'btn-primary': viewMode === 'grid', 'btn-outline-primary': viewMode !== 'grid'}\" @click=\"viewMode = 'grid'\">\n            <i class=\"bi bi-grid-3x3-gap\"></i>\n          </button>\n          <button type=\"button\" class=\"btn\" :class=\"{'btn-primary': viewMode === 'list', 'btn-outline-primary': viewMode !== 'list'}\" @click=\"viewMode = 'list'\">\n            <i class=\"bi bi-list\"></i>\n          </button>\n        </div>\n      </div>\n      \n      <div v-if=\"viewMode === 'grid'\" class=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4\">\n        <div v-for=\"favorite in favorites\" :key=\"favorite._id\" class=\"col\">\n          <div class=\"card h-100\">\n            <div class=\"card-img-top favorite-media\" v-if=\"favorite.type === 'photo' || favorite.type === 'video'\">\n              <div v-if=\"favorite.type === 'video'\" class=\"video-thumbnail position-relative\">\n                <img :src=\"favorite.content.thumbnailUrl || '/assets/img/video-placeholder.jpg'\" class=\"img-fluid\" alt=\"视频缩略图\">\n                <div class=\"play-icon\">\n                  <i class=\"bi bi-play-circle-fill\"></i>\n                </div>\n              </div>\n              <img v-else :src=\"favorite.content.url || '/assets/img/image-placeholder.jpg'\" class=\"img-fluid\" alt=\"图片\">\n            </div>\n            <div v-else-if=\"favorite.type === 'document'\" class=\"card-img-top text-center p-3 bg-light\">\n              <i class=\"bi bi-file-earmark-text display-4\"></i>\n            </div>\n            <div v-else-if=\"favorite.type === 'link'\" class=\"card-img-top text-center p-3 bg-light\">\n              <i class=\"bi bi-link-45deg display-4\"></i>\n            </div>\n            <div v-else class=\"card-img-top text-center p-3 bg-light\">\n              <i class=\"bi bi-chat-quote display-4\"></i>\n            </div>\n            \n            <div class=\"card-body\">\n              <h5 class=\"card-title\">\n                {{ favorite.content.caption || favorite.content.text || '无标题' | truncate(50) }}\n              </h5>\n              <p class=\"card-text text-muted small\">\n                {{ formatDate(favorite.savedAt) }} · {{ favorite.category }}\n              </p>\n              \n              <div class=\"tags mt-2\">\n                <span v-for=\"tag in (favorite.tags || [])\" :key=\"tag\" class=\"badge bg-info me-1 mb-1\">\n                  {{ tag }}\n                </span>\n              </div>\n            </div>\n            \n            <div class=\"card-footer bg-white border-top-0\">\n              <div class=\"d-flex justify-content-between\">\n                <router-link :to=\"`/favorites/${favorite._id}`\" class=\"btn btn-sm btn-outline-primary\">\n                  查看详情\n                </router-link>\n                <button class=\"btn btn-sm btn-outline-danger\" @click=\"confirmDelete(favorite)\">\n                  <i class=\"bi bi-trash\"></i>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div v-else class=\"list-view\">\n      <div class=\"list-group\">\n        <div v-for=\"favorite in favorites\" :key=\"favorite._id\" class=\"list-group-item list-group-item-action\">\n          <div class=\"d-flex w-100 justify-content-between\">\n            <div class=\"d-flex\">\n              <div class=\"type-icon me-3\">\n                <i v-if=\"favorite.type === 'photo'\" class=\"bi bi-image text-success\"></i>\n                <i v-else-if=\"favorite.type === 'video'\" class=\"bi bi-film text-danger\"></i>\n                <i v-else-if=\"favorite.type === 'document'\" class=\"bi bi-file-earmark-text text-primary\"></i>\n                <i v-else-if=\"favorite.type === 'link'\" class=\"bi bi-link-45deg text-info\"></i>\n                <i v-else class=\"bi bi-chat-quote text-secondary\"></i>\n              </div>\n              \n              <div>\n                <h5 class=\"mb-1\">{{ favorite.content.caption || favorite.content.text || '无标题' | truncate(100) }}</h5>\n                <p class=\"mb-1 text-muted small\">\n                  {{ formatDate(favorite.savedAt) }} · {{ favorite.category }}\n                </p>\n                \n                <div class=\"tags mt-2\">\n                  <span v-for=\"tag in (favorite.tags || [])\" :key=\"tag\" class=\"badge bg-info me-1\">\n                    {{ tag }}\n                  </span>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"actions\">\n              <router-link :to=\"`/favorites/${favorite._id}`\" class=\"btn btn-sm btn-outline-primary me-2\">\n                查看\n              </router-link>\n              <button class=\"btn btn-sm btn-outline-danger\" @click=\"confirmDelete(favorite)\">\n                <i class=\"bi bi-trash\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"pagination-container mt-4 d-flex justify-content-center\">\n      <b-pagination\n        v-model=\"currentPage\"\n        :total-rows=\"pagination.total\"\n        :per-page=\"pagination.limit\"\n        @change=\"changePage\"\n        aria-controls=\"favorites-table\"\n      ></b-pagination>\n    </div>\n    \n    <b-modal id=\"delete-modal\" title=\"确认删除\" @ok=\"deleteFavorite\">\n      <p>确定要删除这个收藏吗？此操作无法撤销。</p>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'Favorites',\n  \n  data() {\n    return {\n      viewMode: 'grid',\n      currentPage: 1,\n      searchQuery: '',\n      favoriteToDelete: null,\n      filters: {\n        type: null,\n        category: null,\n        tags: [],\n        sortBy: 'savedAt',\n        sortOrder: 'desc'\n      },\n      typeOptions: [\n        { value: null, text: '所有类型' },\n        { value: 'photo', text: '图片' },\n        { value: 'video', text: '视频' },\n        { value: 'document', text: '文档' },\n        { value: 'link', text: '链接' },\n        { value: 'text', text: '文本' }\n      ],\n      categoryOptions: [\n        { value: null, text: '所有分类' },\n        { value: '图片', text: '图片' },\n        { value: '视频', text: '视频' },\n        { value: '文档', text: '文档' },\n        { value: '链接', text: '链接' },\n        { value: '文本', text: '文本' },\n        { value: '其他', text: '其他' }\n      ],\n      sortByOptions: [\n        { value: 'savedAt', text: '收藏时间' },\n        { value: 'type', text: '内容类型' },\n        { value: 'category', text: '分类' }\n      ]\n    };\n  },\n  \n  computed: {\n    ...mapGetters('favorites', ['allFavorites', 'loading', 'error', 'pagination', 'filters']),\n    ...mapGetters('tags', ['allTags']), // 确保 allTags 是从 tags 模块映射的\n\n    favorites() {\n      return this.allFavorites;\n    },\n    \n    tagOptions() {\n      // 修正：确保 this.allTags 是一个数组，即使它在初始化时为 null 或 undefined\n      return [\n        { value: null, text: '所有标签' },\n        ...(this.allTags || []).map(tag => ({ \n          value: tag.name, // 假设 tag 对象有 name 属性，如果不是，需要调整后端或这里\n          text: `${tag.name} (${tag.count})` // 假设 tag 对象有 count 属性\n        }))\n      ];\n    },\n    \n    sortOrderIcon() {\n      return this.filters.sortOrder === 'asc' \n        ? 'bi bi-sort-up-alt' \n        : 'bi bi-sort-down-alt';\n    }\n  },\n  \n  methods: {\n    ...mapActions('favorites', ['fetchFavorites', 'deleteFavorite', 'updateFiltersAndFetch', 'searchFavorites', 'syncFavorites']),\n    ...mapActions('tags', ['fetchTags']), // 确保 fetchTags 是从 tags 模块映射的\n    \n    // 应用过滤器\n    applyFilters() {\n      this.currentPage = 1;\n      this.updateFiltersAndFetch({\n        ...this.filters,\n        page: this.currentPage,\n        // 如果 search 是一个独立的字段，应该在这里清空或合并\n        search: this.searchQuery.trim() // 应用过滤器时也带上搜索词\n      });\n    },\n    \n    // 切换排序顺序\n    toggleSortOrder() {\n      this.filters.sortOrder = this.filters.sortOrder === 'asc' ? 'desc' : 'asc';\n      this.applyFilters();\n    },\n    \n    // 搜索 (现在将搜索词传递给后端)\n    search() {\n      const query = this.searchQuery.trim(); \n      \n      this.currentPage = 1;\n      this.updateFiltersAndFetch({ // 使用 updateFiltersAndFetch 来统一处理过滤和搜索\n        ...this.filters,\n        search: query, // 将搜索词加入到过滤器中\n        page: this.currentPage\n      });\n    },\n    \n    // 切换页面\n    changePage(page) {\n      this.currentPage = page;\n      this.updateFiltersAndFetch({\n        ...this.filters,\n        search: this.searchQuery.trim(), // 切换页面时也带上搜索词\n        page: this.currentPage\n      });\n    },\n    \n    // 确认删除\n    confirmDelete(favorite) {\n      this.favoriteToDelete = favorite;\n      this.$bvModal.show('delete-modal');\n    },\n    \n    // 执行删除\n    async deleteFavorite() {\n      if (this.favoriteToDelete) {\n        try {\n          await this.deleteFavorite(this.favoriteToDelete._id);\n          this.$bvToast.toast('收藏已删除', { title: '成功', variant: 'success', solid: true });\n        } catch (error) {\n          console.error('删除收藏失败:', error);\n          this.$bvToast.toast(this.errorMessage || '删除收藏失败，请重试', {\n            title: '错误',\n            variant: 'danger',\n            solid: true\n          });\n        } finally {\n          this.favoriteToDelete = null;\n        }\n      }\n    },\n    \n    // 格式化日期\n    formatDate(dateString) {\n      // 确保 $_formatDate 是全局过滤器或辅助函数\n      if (typeof this.$_formatDate === 'function') {\n        return this.$_formatDate(dateString);\n      } else {\n        // 如果 $_formatDate 未定义，则使用默认的日期格式化\n        const date = new Date(dateString);\n        return date.toLocaleDateString('zh-CN', {\n          year: 'numeric',\n          month: 'short',\n          day: 'numeric'\n        });\n      }\n    }\n  },\n  \n  // 过滤器 (Vue 2 的 filters 选项)\n  filters: {\n    truncate(text, length) {\n      if (!text) return '';\n      return text.length > length \n        ? text.substring(0, length) + '...' \n        : text;\n    }\n  },\n  \n  // 组件创建时\n  async created() {\n    // 尝试获取最新的用户数据和账户列表\n    if (this.$store.getters['auth/isAuthenticated']) { // 确保用户已登录\n      try {\n        await this.fetchTags(); // 获取标签列表\n        await this.fetchFavorites(); // 获取收藏列表 (这将触发带过滤和搜索的请求)\n      } catch (error) {\n        console.error(\"加载收藏或标签失败:\", error);\n        this.$bvToast.toast(this.errorMessage || '加载数据失败，请刷新重试', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        });\n      }\n    } else {\n      // 如果未认证，确保重定向到登录页\n      this.$router.replace('/login');\n    }\n  },\n  \n  // 监听路由变化，如果参数改变（例如从 /search?q=... 跳转到 /favorites），重新获取数据\n  watch: {\n    '$route.query': {\n      immediate: true, // 立即执行一次\n      handler(newQuery) {\n        // 当路由查询参数变化时，更新搜索框和过滤器\n        if (newQuery.q) {\n          this.searchQuery = newQuery.q;\n        } else {\n          this.searchQuery = '';\n        }\n        // 应用过滤器和搜索，但只在组件不是通过直接created加载时 (比如从外部路由跳过来)\n        // 实际上，created() 已经处理了第一次加载\n        // 如果这里不加判断，可能会重复发起请求\n        // 更好的做法是，当路由参数变化时，直接 dispatch 一个 action 重新获取数据\n        this.applyFilters(); \n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.favorites-page {\n  padding-bottom: 30px;\n}\n\n.favorite-media {\n  height: 200px;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #f8f9fa;\n}\n\n.favorite-media img {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n}\n\n.video-thumbnail {\n  width: 100%;\n  height: 100%;\n}\n\n.video-thumbnail img {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n}\n\n.play-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 3rem;\n  color: white;\n  text-shadow: 0 0 10px rgba(0,0,0,0.5);\n}\n\n.type-icon {\n  font-size: 1.5rem;\n  display: flex;\n  align-items: center;\n}\n\n.empty-state {\n  padding: 50px 0;\n}\n\n/* Custom button colors from previous analysis (if needed) */\n.btn-primary {\n  background-color: #0088cc !important;\n  border-color: #0088cc !important;\n}\n\n.btn-primary:hover {\n  background-color: #006699 !important;\n  border-color: #006699 !important;\n}\n\n.btn-success {\n  background-color: #28a745 !important;\n  border-color: #28a745 !important;\n}\n\n.btn-success:hover {\n  background-color: #218838 !important;\n  border-color: #1e7e34 !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorites.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorites.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Favorites.vue?vue&type=template&id=5bd26497&scoped=true\"\nimport script from \"./Favorites.vue?vue&type=script&lang=js\"\nexport * from \"./Favorites.vue?vue&type=script&lang=js\"\nimport style0 from \"./Favorites.vue?vue&type=style&index=0&id=5bd26497&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bd26497\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"favorite-detail-page\"},[_c('b-container',[_c('h1',{staticClass:\"my-4\"},[_vm._v(\"收藏详情\")]),(_vm.hasError)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.errorMessage))]):(_vm.isLoading)?_c('div',{staticClass:\"text-center my-5\"},[_c('b-spinner',{staticClass:\"text-primary\"}),_c('p',{staticClass:\"mt-2\"},[_vm._v(\"加载收藏详情...\")])],1):(!_vm.favorite)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"warning\"}},[_c('i',{staticClass:\"bi bi-exclamation-triangle me-1\"}),_vm._v(\" 未找到该收藏内容。 \")]):_c('b-card',{staticClass:\"mb-4\"},[_c('b-card-body',[_c('b-row',[_c('b-col',{attrs:{\"md\":\"8\"}},[_c('div',{staticClass:\"main-content-display mb-3\"},[(_vm.favorite.type === 'photo')?[_c('b-img',{attrs:{\"src\":_vm.favorite.content.url,\"fluid\":\"\",\"alt\":\"收藏图片\"}})]:(_vm.favorite.type === 'video')?[(_vm.favorite.localPath)?_c('video',{staticClass:\"w-100\",attrs:{\"src\":_vm.favorite.localPath,\"controls\":\"\",\"fluid\":\"\"}},[_vm._v(\" 您的浏览器不支持视频播放。 \")]):_c('b-img',{attrs:{\"src\":_vm.favorite.content.thumbnailUrl || _vm.videoPlaceholder,\"fluid\":\"\",\"alt\":\"视频缩略图\"}}),(!_vm.favorite.localPath)?_c('div',{staticClass:\"text-muted text-center mt-2\"},[_c('i',{staticClass:\"bi bi-info-circle me-1\"}),_vm._v(\" 视频文件可能未下载到服务器，无法直接播放。 \")]):_vm._e()]:(_vm.favorite.type === 'audio')?[(_vm.favorite.localPath)?_c('audio',{staticClass:\"w-100\",attrs:{\"src\":_vm.favorite.localPath,\"controls\":\"\"}},[_vm._v(\" 您的浏览器不支持音频播放。 \")]):_c('div',{staticClass:\"text-muted text-center mt-2\"},[_c('i',{staticClass:\"bi bi-info-circle me-1\"}),_vm._v(\" 音频文件可能未下载到服务器。 \")])]:(_vm.favorite.type === 'document')?[_c('a',{staticClass:\"btn btn-outline-primary w-100 py-3\",attrs:{\"href\":_vm.favorite.localPath || '#',\"target\":\"_blank\"}},[_c('i',{staticClass:\"bi bi-file-earmark-arrow-down-fill me-2\"}),_vm._v(\" 下载文件: \"+_vm._s(_vm.favorite.content.fileName)+\" \")]),(!_vm.favorite.localPath)?_c('div',{staticClass:\"text-muted text-center mt-2\"},[_c('i',{staticClass:\"bi bi-info-circle me-1\"}),_vm._v(\" 文件可能未下载到服务器。 \")]):_vm._e()]:(_vm.favorite.type === 'link')?[_c('a',{staticClass:\"btn btn-outline-info w-100 py-3\",attrs:{\"href\":_vm.favorite.content.url,\"target\":\"_blank\"}},[_c('i',{staticClass:\"bi bi-link-45deg me-2\"}),_vm._v(\" 前往链接: \"+_vm._s(_vm._f(\"$_truncateText\")(_vm.favorite.content.url,50))+\" \")])]:(_vm.favorite.type === 'text')?[_c('div',{staticClass:\"card p-3 bg-light text-start\"},[_c('h5',{staticClass:\"mb-2\"},[_vm._v(\"文本内容:\")]),_c('pre',{staticClass:\"mb-0\"},[_vm._v(_vm._s(_vm.favorite.content.text))])])]:[_c('div',{staticClass:\"text-center p-5 bg-light\"},[_c('i',{staticClass:\"bi bi-question-circle display-4 text-muted\"}),_c('p',{staticClass:\"mt-2\"},[_vm._v(\"未知内容类型\")])])]],2),_c('h4',{staticClass:\"mb-2\"},[_vm._v(_vm._s(_vm.favorite.content.caption || _vm.favorite.content.text || '无标题'))]),_c('p',{staticClass:\"text-muted small\"},[_vm._v(\" 收藏时间: \"+_vm._s(_vm._f(\"$_formatDate\")(_vm.favorite.savedAt))+\" \"),_c('br'),_vm._v(\" 分类: \"+_vm._s(_vm.favorite.category || '未分类')+\" \"),_c('br'),_vm._v(\" 消息ID: \"+_vm._s(_vm.favorite.telegramMessageId)+\" \")]),_c('div',{staticClass:\"d-flex gap-2 mt-3\"},[_c('b-button',{attrs:{\"variant\":\"outline-danger\"},on:{\"click\":_vm.confirmDelete}},[_c('i',{staticClass:\"bi bi-trash me-1\"}),_vm._v(\" 删除收藏 \")])],1)]),_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-card',{staticClass:\"mb-3\",attrs:{\"header\":\"标签\"}},[_c('div',{staticClass:\"tags-list\"},_vm._l((_vm.favorite.tags),function(tag){return _c('b-badge',{key:tag._id || tag,staticClass:\"tag-badge-style me-1 mb-1\",attrs:{\"pill\":\"\"},on:{\"click\":function($event){return _vm.removeTag(tag)}}},[_vm._v(\" \"+_vm._s(tag.name || tag)+\" \"),_c('i',{staticClass:\"bi bi-x-circle-fill ms-1\"})])}),1),_c('hr'),_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addTag.apply(null, arguments)}}},[_c('b-form-group',{attrs:{\"label\":\"添加新标签:\",\"label-for\":\"add-tag-input\"}},[_c('b-form-input',{attrs:{\"id\":\"add-tag-input\",\"placeholder\":\"输入标签名称\",\"required\":\"\"},model:{value:(_vm.newTag),callback:function ($$v) {_vm.newTag=$$v},expression:\"newTag\"}})],1),_c('b-button',{staticClass:\"mt-2\",attrs:{\"type\":\"submit\",\"variant\":\"outline-primary\",\"size\":\"sm\",\"disabled\":!_vm.newTag.trim()}},[_vm._v(\"添加标签\")])],1)],1),_c('b-card',{staticClass:\"mb-3\",attrs:{\"header\":\"其他信息\"}},[_c('p',[_c('strong',[_vm._v(\"文件ID:\")]),_vm._v(\" \"+_vm._s(_vm.favorite.content.fileId || 'N/A'))]),_c('p',[_c('strong',[_vm._v(\"文件名:\")]),_vm._v(\" \"+_vm._s(_vm.favorite.content.fileName || 'N/A'))]),_c('p',[_c('strong',[_vm._v(\"文件大小:\")]),_vm._v(\" \"+_vm._s(_vm.favorite.content.fileSize ? (_vm.favorite.content.fileSize / 1024 / 1024).toFixed(2) + ' MB' : 'N/A'))]),_c('p',[_c('strong',[_vm._v(\"MIME类型:\")]),_vm._v(\" \"+_vm._s(_vm.favorite.content.mimeType || 'N/A'))]),_c('p',[_c('strong',[_vm._v(\"时长:\")]),_vm._v(\" \"+_vm._s(_vm.favorite.content.duration ? _vm.favorite.content.duration + ' 秒' : 'N/A'))]),_c('p',[_c('strong',[_vm._v(\"分辨率:\")]),_vm._v(\" \"+_vm._s(_vm.favorite.content.width || 'N/A')+\" x \"+_vm._s(_vm.favorite.content.height || 'N/A'))]),_c('p',[_c('strong',[_vm._v(\"本地下载:\")]),(_vm.favorite.isDownloaded)?_c('i',{staticClass:\"bi bi-check-circle-fill text-success\"}):_c('i',{staticClass:\"bi bi-x-circle-fill text-danger\"}),_vm._v(\" \"+_vm._s(_vm.favorite.isDownloaded ? '已下载' : '未下载')+\" \")]),(_vm.favorite.localPath)?_c('p',[_c('strong',[_vm._v(\"本地路径:\")]),_vm._v(\" \"+_vm._s(_vm.favorite.localPath))]):_vm._e()])],1)],1)],1)],1)],1),_c('b-modal',{attrs:{\"id\":\"delete-modal-detail\",\"title\":\"确认删除\",\"ok-variant\":\"danger\",\"ok-title\":\"删除\"},on:{\"ok\":_vm.deleteFavorite}},[_c('p',[_vm._v(\"确定要删除这个收藏吗？此操作无法撤销。\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"favorite-detail-page\">\n    <b-container>\n      <h1 class=\"my-4\">收藏详情</h1>\n\n      <b-alert v-if=\"hasError\" show variant=\"danger\">{{ errorMessage }}</b-alert>\n      <div v-else-if=\"isLoading\" class=\"text-center my-5\">\n        <b-spinner class=\"text-primary\"></b-spinner>\n        <p class=\"mt-2\">加载收藏详情...</p>\n      </div>\n      <b-alert v-else-if=\"!favorite\" show variant=\"warning\">\n        <i class=\"bi bi-exclamation-triangle me-1\"></i> 未找到该收藏内容。\n      </b-alert>\n\n      <b-card v-else class=\"mb-4\">\n        <b-card-body>\n          <b-row>\n            <b-col md=\"8\">\n              <div class=\"main-content-display mb-3\">\n                <template v-if=\"favorite.type === 'photo'\">\n                  <b-img :src=\"favorite.content.url\" fluid alt=\"收藏图片\"></b-img>\n                </template>\n                <template v-else-if=\"favorite.type === 'video'\">\n                  <video :src=\"favorite.localPath\" controls fluid class=\"w-100\" v-if=\"favorite.localPath\">\n                    您的浏览器不支持视频播放。\n                  </video>\n                  <b-img v-else :src=\"favorite.content.thumbnailUrl || videoPlaceholder\" fluid alt=\"视频缩略图\"></b-img>\n                  <div v-if=\"!favorite.localPath\" class=\"text-muted text-center mt-2\">\n                    <i class=\"bi bi-info-circle me-1\"></i> 视频文件可能未下载到服务器，无法直接播放。\n                  </div>\n                </template>\n                <template v-else-if=\"favorite.type === 'audio'\">\n                  <audio :src=\"favorite.localPath\" controls class=\"w-100\" v-if=\"favorite.localPath\">\n                    您的浏览器不支持音频播放。\n                  </audio>\n                  <div v-else class=\"text-muted text-center mt-2\">\n                     <i class=\"bi bi-info-circle me-1\"></i> 音频文件可能未下载到服务器。\n                  </div>\n                </template>\n                 <template v-else-if=\"favorite.type === 'document'\">\n                    <a :href=\"favorite.localPath || '#'\" target=\"_blank\" class=\"btn btn-outline-primary w-100 py-3\">\n                        <i class=\"bi bi-file-earmark-arrow-down-fill me-2\"></i> 下载文件: {{ favorite.content.fileName }}\n                    </a>\n                     <div v-if=\"!favorite.localPath\" class=\"text-muted text-center mt-2\">\n                       <i class=\"bi bi-info-circle me-1\"></i> 文件可能未下载到服务器。\n                    </div>\n                </template>\n                <template v-else-if=\"favorite.type === 'link'\">\n                  <a :href=\"favorite.content.url\" target=\"_blank\" class=\"btn btn-outline-info w-100 py-3\">\n                    <i class=\"bi bi-link-45deg me-2\"></i> 前往链接: {{ favorite.content.url | $_truncateText(50) }}\n                  </a>\n                </template>\n                <template v-else-if=\"favorite.type === 'text'\">\n                  <div class=\"card p-3 bg-light text-start\">\n                    <h5 class=\"mb-2\">文本内容:</h5>\n                    <pre class=\"mb-0\">{{ favorite.content.text }}</pre>\n                  </div>\n                </template>\n                <template v-else>\n                  <div class=\"text-center p-5 bg-light\">\n                    <i class=\"bi bi-question-circle display-4 text-muted\"></i>\n                    <p class=\"mt-2\">未知内容类型</p>\n                  </div>\n                </template>\n              </div>\n\n              <h4 class=\"mb-2\">{{ favorite.content.caption || favorite.content.text || '无标题' }}</h4>\n              <p class=\"text-muted small\">\n                收藏时间: {{ favorite.savedAt | $_formatDate() }} <br/>\n                分类: {{ favorite.category || '未分类' }} <br/>\n                消息ID: {{ favorite.telegramMessageId }}\n              </p>\n\n              <div class=\"d-flex gap-2 mt-3\">\n                <b-button variant=\"outline-danger\" @click=\"confirmDelete\">\n                  <i class=\"bi bi-trash me-1\"></i> 删除收藏\n                </b-button>\n              </div>\n            </b-col>\n\n            <b-col md=\"4\">\n              <b-card header=\"标签\" class=\"mb-3\">\n                <div class=\"tags-list\">\n                  <b-badge\n                    v-for=\"tag in favorite.tags\"\n                    :key=\"tag._id || tag\"\n                    pill\n                    class=\"tag-badge-style me-1 mb-1\"\n                    @click=\"removeTag(tag)\"\n                  >\n                    {{ tag.name || tag }} <i class=\"bi bi-x-circle-fill ms-1\"></i>\n                  </b-badge>\n                </div>\n                <hr />\n                <b-form @submit.prevent=\"addTag\">\n                  <b-form-group label=\"添加新标签:\" label-for=\"add-tag-input\">\n                    <b-form-input\n                      id=\"add-tag-input\"\n                      v-model=\"newTag\"\n                      placeholder=\"输入标签名称\"\n                      required\n                    ></b-form-input>\n                  </b-form-group>\n                  <b-button type=\"submit\" variant=\"outline-primary\" size=\"sm\" class=\"mt-2\" :disabled=\"!newTag.trim()\">添加标签</b-button>\n                </b-form>\n              </b-card>\n\n              <b-card header=\"其他信息\" class=\"mb-3\">\n                <p><strong>文件ID:</strong> {{ favorite.content.fileId || 'N/A' }}</p>\n                <p><strong>文件名:</strong> {{ favorite.content.fileName || 'N/A' }}</p>\n                <p><strong>文件大小:</strong> {{ favorite.content.fileSize ? (favorite.content.fileSize / 1024 / 1024).toFixed(2) + ' MB' : 'N/A' }}</p>\n                <p><strong>MIME类型:</strong> {{ favorite.content.mimeType || 'N/A' }}</p>\n                <p><strong>时长:</strong> {{ favorite.content.duration ? favorite.content.duration + ' 秒' : 'N/A' }}</p>\n                <p><strong>分辨率:</strong> {{ favorite.content.width || 'N/A' }} x {{ favorite.content.height || 'N/A' }}</p>\n                <p><strong>本地下载:</strong> \n                    <i v-if=\"favorite.isDownloaded\" class=\"bi bi-check-circle-fill text-success\"></i>\n                    <i v-else class=\"bi bi-x-circle-fill text-danger\"></i>\n                    {{ favorite.isDownloaded ? '已下载' : '未下载' }}\n                </p>\n                <p v-if=\"favorite.localPath\"><strong>本地路径:</strong> {{ favorite.localPath }}</p>\n              </b-card>\n            </b-col>\n          </b-row>\n        </b-card-body>\n      </b-card>\n    </b-container>\n    \n    <b-modal id=\"delete-modal-detail\" title=\"确认删除\" ok-variant=\"danger\" ok-title=\"删除\" @ok=\"deleteFavorite\">\n      <p>确定要删除这个收藏吗？此操作无法撤销。</p>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'FavoriteDetail',\n  data() {\n    return {\n      newTag: '', // 新标签输入\n      // 占位符图片路径\n      imagePlaceholder: require('@/assets/img/image-placeholder.jpg'),\n      videoPlaceholder: require('@/assets/img/video-placeholder.jpg'),\n    };\n  },\n  computed: {\n    ...mapGetters('favorites', [\n      'currentFavorite', \n      'isLoading', \n      'hasError', \n      'errorMessage'\n    ]),\n    favorite() {\n      return this.currentFavorite;\n    }\n  },\n  methods: {\n    ...mapActions('favorites', [\n      'fetchFavoriteById', \n      'deleteFavorite', \n      'updateFavoriteTags',\n      'removeTagFromFavorite'\n    ]),\n    \n    // 添加标签\n    async addTag() {\n      if (!this.newTag.trim()) {\n        this.$bvToast.toast('标签名称不能为空', { title: '验证错误', variant: 'warning', solid: true });\n        return;\n      }\n      // 检查标签是否已存在于当前收藏中\n      const existingTag = this.favorite.tags.find(\n        t => (typeof t === 'string' ? t.toLowerCase() : t.name.toLowerCase()) === this.newTag.trim().toLowerCase()\n      );\n      if (existingTag) {\n        this.$bvToast.toast('该标签已存在于此收藏中', { title: '提示', variant: 'info', solid: true });\n        return;\n      }\n\n      try {\n        // 构建要发送的标签数组，包含新标签\n        // 假设 favorite.tags 是字符串数组，或者后端能处理字符串数组作为tags参数\n        const updatedTags = [...this.favorite.tags.map(t => typeof t === 'string' ? t : t.name), this.newTag.trim()];\n        \n        // 调用 Vuex action 更新标签\n        await this.updateFavoriteTags({\n          favoriteId: this.favorite._id,\n          tags: updatedTags // 发送更新后的完整标签数组\n        });\n        \n        this.newTag = ''; // 清空输入\n        this.$bvToast.toast('标签添加成功', { title: '成功', variant: 'success', solid: true });\n      } catch (error) {\n        this.$bvToast.toast(this.errorMessage || '添加标签失败，请重试', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        });\n      }\n    },\n    \n    // 移除标签\n    async removeTag(tagToRemove) {\n      if (!confirm(`确定要移除标签 \"${typeof tagToRemove === 'string' ? tagToRemove : tagToRemove.name}\" 吗？`)) {\n        return;\n      }\n\n      try {\n        const tagName = typeof tagToRemove === 'string' ? tagToRemove : tagToRemove.name;\n        // 调用 Vuex action 移除标签\n        await this.removeTagFromFavorite({\n          favoriteId: this.favorite._id,\n          tagName: tagName // 发送要移除的标签名称\n        });\n        this.$bvToast.toast('标签已移除', { title: '成功', variant: 'success', solid: true });\n      } catch (error) {\n        this.$bvToast.toast(this.errorMessage || '移除标签失败，请重试', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        });\n      }\n    },\n\n    // 确认删除收藏\n    confirmDelete() {\n      this.$bvModal.show('delete-modal-detail');\n    },\n    \n    // 删除收藏\n    async deleteFavorite() {\n      try {\n        await this.deleteFavorite(this.favorite._id);\n        this.$bvToast.toast('收藏已删除', {\n          title: '成功',\n          variant: 'success',\n          solid: true\n        });\n        // 删除成功后重定向回收藏列表\n        this.$router.push('/favorites');\n      } catch (error) {\n        this.$bvToast.toast(this.errorMessage || '删除失败，请重试', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        });\n      }\n    }\n  },\n  \n  // 组件创建时，根据路由ID获取收藏详情\n  created() {\n    const favoriteId = this.$route.params.id;\n    if (favoriteId) {\n      this.fetchFavoriteById(favoriteId);\n    }\n  },\n  // 监听路由参数变化，当从一个详情页跳到另一个详情页时\n  watch: {\n    '$route.params.id': {\n      handler(newId) {\n        if (newId) {\n          this.fetchFavoriteById(newId);\n        }\n      },\n      immediate: true // 立即执行一次\n    }\n  }\n};\n</script>\n\n<style scoped>\n.favorite-detail-page {\n  padding-bottom: 30px;\n}\n\n.main-content-display {\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 250px; /* 最小高度 */\n  max-height: 500px;\n  margin-bottom: 20px;\n}\n\n.main-content-display img,\n.main-content-display video,\n.main-content-display audio {\n  max-width: 100%;\n  max-height: 100%;\n  display: block; /* 移除图片底部空白 */\n}\n\n.main-content-display pre {\n  background-color: transparent; /* 移除背景色 */\n  border: none; /* 移除边框 */\n  padding: 0;\n  margin: 0;\n  white-space: pre-wrap; /* 文本换行 */\n  word-break: break-word; /* 单词内换行 */\n  font-size: 0.9rem;\n}\n\n.tags-list {\n  margin-bottom: 1rem;\n}\n\n.tag-badge-style {\n  background-color: #e9ecef;\n  color: #495057;\n  cursor: pointer;\n  padding: 0.35em 0.65em;\n  border-radius: 0.25rem;\n}\n\n.tag-badge-style:hover {\n  background-color: #dc3545; /* 删除时变为红色 */\n  color: white;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FavoriteDetail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FavoriteDetail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FavoriteDetail.vue?vue&type=template&id=76cf7e89&scoped=true\"\nimport script from \"./FavoriteDetail.vue?vue&type=script&lang=js\"\nexport * from \"./FavoriteDetail.vue?vue&type=script&lang=js\"\nimport style0 from \"./FavoriteDetail.vue?vue&type=style&index=0&id=76cf7e89&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76cf7e89\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tags-container\"},[_c('b-container',[_c('h1',{staticClass:\"my-4\"},[_vm._v(\"标签管理\")]),_c('b-card',{staticClass:\"mb-4\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('h4',{staticClass:\"mb-0\"},[_vm._v(\"所有标签\")]),_c('b-button',{attrs:{\"variant\":\"primary\",\"size\":\"sm\",\"disabled\":!_vm.hasActiveAccount},on:{\"click\":_vm.showAddTagModal}},[_c('i',{staticClass:\"bi bi-plus-circle me-1\"}),_vm._v(\" 添加标签 \")])],1),(!_vm.hasActiveAccount)?_c('b-alert',{staticClass:\"mt-2 py-2\",attrs:{\"show\":\"\",\"variant\":\"warning\"}},[_c('small',[_vm._v(\"请先在 \"),_c('router-link',{attrs:{\"to\":\"/settings\"}},[_vm._v(\"设置\")]),_vm._v(\" 页面添加Telegram账户才能添加标签。\")],1)]):_vm._e()]},proxy:true}])},[_c('b-table',{staticClass:\"mb-0\",attrs:{\"items\":_vm.allTags,\"fields\":_vm.fields,\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\",\"busy\":_vm.isLoading},scopedSlots:_vm._u([{key:\"cell(color)\",fn:function(data){return [(data.item.color)?_c('div',{staticClass:\"color-preview\",style:({ backgroundColor: data.item.color })}):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"无\")])]}},{key:\"cell(count)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.count || 0)+\" 个收藏 \")]}},{key:\"cell(actions)\",fn:function(data){return [_c('b-button-group',{attrs:{\"size\":\"sm\"}},[_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":function($event){return _vm.showEditTagModal(data.item)}}},[_c('i',{staticClass:\"bi bi-pencil\"})]),_c('b-button',{attrs:{\"variant\":\"outline-danger\"},on:{\"click\":function($event){return _vm.showDeleteTagModal(data.item)}}},[_c('i',{staticClass:\"bi bi-trash\"})])],1)]}},{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center my-2\"},[_c('b-spinner',{staticClass:\"align-middle\"}),_c('strong',[_vm._v(\" 加载中...\")])],1)]},proxy:true}])}),(!_vm.isLoading && _vm.allTags.length === 0 && _vm.hasActiveAccount)?_c('div',{staticClass:\"text-center py-3\"},[_c('p',{staticClass:\"text-muted\"},[_vm._v(\"暂无标签，请点击\\\"添加标签\\\"按钮创建。\")])]):_vm._e()],1)],1),_c('b-modal',{attrs:{\"title\":_vm.isEditing ? '编辑标签' : '添加标签',\"ok-disabled\":!_vm.tagForm.name.trim()},on:{\"ok\":_vm.handleTagSubmit,\"hidden\":_vm.resetTagForm},model:{value:(_vm.showTagModal),callback:function ($$v) {_vm.showTagModal=$$v},expression:\"showTagModal\"}},[_c('b-form',[_c('b-form-group',{attrs:{\"label\":\"标签名称:\",\"label-for\":\"tag-name\"}},[_c('b-form-input',{attrs:{\"id\":\"tag-name\",\"required\":\"\",\"placeholder\":\"输入标签名称\"},model:{value:(_vm.tagForm.name),callback:function ($$v) {_vm.$set(_vm.tagForm, \"name\", $$v)},expression:\"tagForm.name\"}})],1),_c('b-form-group',{attrs:{\"label\":\"标签颜色 (可选):\",\"label-for\":\"tag-color\"}},[_c('b-form-input',{attrs:{\"id\":\"tag-color\",\"type\":\"color\"},model:{value:(_vm.tagForm.color),callback:function ($$v) {_vm.$set(_vm.tagForm, \"color\", $$v)},expression:\"tagForm.color\"}})],1)],1)],1),_c('b-modal',{attrs:{\"title\":\"删除标签\",\"ok-variant\":\"danger\",\"ok-title\":\"删除\"},on:{\"ok\":_vm.deleteTag},model:{value:(_vm.showDeleteModal),callback:function ($$v) {_vm.showDeleteModal=$$v},expression:\"showDeleteModal\"}},[_c('p',[_vm._v(\"确定要删除标签 \\\"\"),_c('strong',[_vm._v(_vm._s(_vm.tagToDelete ? _vm.tagToDelete.name : ''))]),_vm._v(\"\\\" 吗？\")]),_c('p',{staticClass:\"text-danger\"},[_vm._v(\"此操作将从所有收藏中移除该标签，且无法撤销。\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tags-container\">\n    <b-container>\n      <h1 class=\"my-4\">标签管理</h1>\n      \n      <b-card class=\"mb-4\">\n        <template #header>\n          <div class=\"d-flex justify-content-between align-items-center\">\n            <h4 class=\"mb-0\">所有标签</h4>\n            <b-button variant=\"primary\" size=\"sm\" @click=\"showAddTagModal\" :disabled=\"!hasActiveAccount\">\n              <i class=\"bi bi-plus-circle me-1\"></i> 添加标签\n            </b-button>\n          </div>\n          <b-alert v-if=\"!hasActiveAccount\" show variant=\"warning\" class=\"mt-2 py-2\">\n            <small>请先在 <router-link to=\"/settings\">设置</router-link> 页面添加Telegram账户才能添加标签。</small>\n          </b-alert>\n        </template>\n        \n        <b-table\n          :items=\"allTags\"\n          :fields=\"fields\"\n          striped\n          hover\n          responsive\n          :busy=\"isLoading\"\n          class=\"mb-0\"\n        >\n          <template #cell(color)=\"data\">\n            <div v-if=\"data.item.color\" class=\"color-preview\" :style=\"{ backgroundColor: data.item.color }\"></div>\n            <span v-else class=\"text-muted\">无</span>\n          </template>\n          \n          <template #cell(count)=\"data\">\n            {{ data.item.count || 0 }} 个收藏\n          </template>\n          \n          <template #cell(actions)=\"data\">\n            <b-button-group size=\"sm\">\n              <b-button variant=\"outline-primary\" @click=\"showEditTagModal(data.item)\">\n                <i class=\"bi bi-pencil\"></i>\n              </b-button>\n              <b-button variant=\"outline-danger\" @click=\"showDeleteTagModal(data.item)\">\n                <i class=\"bi bi-trash\"></i>\n              </b-button>\n            </b-button-group>\n          </template>\n          \n          <template #table-busy>\n            <div class=\"text-center my-2\">\n              <b-spinner class=\"align-middle\"></b-spinner>\n              <strong> 加载中...</strong>\n            </div>\n          </template>\n        </b-table>\n        \n        <div v-if=\"!isLoading && allTags.length === 0 && hasActiveAccount\" class=\"text-center py-3\">\n          <p class=\"text-muted\">暂无标签，请点击\"添加标签\"按钮创建。</p>\n        </div>\n      </b-card>\n    </b-container>\n    \n    <b-modal\n      v-model=\"showTagModal\"\n      :title=\"isEditing ? '编辑标签' : '添加标签'\"\n      @ok=\"handleTagSubmit\"\n      @hidden=\"resetTagForm\"\n      :ok-disabled=\"!tagForm.name.trim()\"\n    >\n      <b-form>\n        <b-form-group label=\"标签名称:\" label-for=\"tag-name\">\n          <b-form-input\n            id=\"tag-name\"\n            v-model=\"tagForm.name\"\n            required\n            placeholder=\"输入标签名称\"\n          ></b-form-input>\n        </b-form-group>\n        \n        <b-form-group label=\"标签颜色 (可选):\" label-for=\"tag-color\">\n          <b-form-input\n            id=\"tag-color\"\n            v-model=\"tagForm.color\"\n            type=\"color\"\n          ></b-form-input>\n        </b-form-group>\n      </b-form>\n    </b-modal>\n    \n    <b-modal\n      v-model=\"showDeleteModal\"\n      title=\"删除标签\"\n      ok-variant=\"danger\"\n      ok-title=\"删除\"\n      @ok=\"deleteTag\"\n    >\n      <p>确定要删除标签 \"<strong>{{ tagToDelete ? tagToDelete.name : '' }}</strong>\" 吗？</p>\n      <p class=\"text-danger\">此操作将从所有收藏中移除该标签，且无法撤销。</p>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'Tags',\n  data() {\n    return {\n      // B-table 字段定义\n      fields: [\n        { key: 'name', label: '标签名称', sortable: true },\n        { key: 'color', label: '颜色' },\n        { key: 'count', label: '收藏数量', sortable: true },\n        { key: 'actions', label: '操作' }\n      ],\n      showTagModal: false, // 控制添加/编辑模态框显示\n      showDeleteModal: false, // 控制删除确认模态框显示\n      isEditing: false, // 模态框是否处于编辑模式\n      tagForm: { // 模态框表单数据\n        _id: null, // 用于编辑模式的标签ID\n        name: '',\n        color: '#3498db' // 默认颜色\n      },\n      tagToDelete: null // 待删除的标签\n    };\n  },\n  computed: {\n    // 映射 tags 模块的 getters\n    ...mapGetters('tags', [\n      'allTags',\n      'isLoading', // 标签模块的加载状态\n      'hasError',  // 标签模块的错误状态\n      'errorMessage' // 标签模块的错误信息\n    ]),\n    // 映射 auth 模块的 getters\n    ...mapGetters('auth', ['hasActiveAccount']), // 判断用户是否有活跃账户\n  },\n  created() {\n    this.fetchTags(); // 组件创建时获取标签列表\n  },\n  methods: {\n    // 映射 tags 模块的 actions\n    ...mapActions('tags', [\n      'fetchTags',\n      'createTag',\n      'updateTag',\n      'deleteTag'\n    ]),\n    \n    // 显示添加标签模态框\n    showAddTagModal() {\n      this.isEditing = false;\n      this.resetTagForm(); // 重置表单\n      this.showTagModal = true;\n    },\n    \n    // 显示编辑标签模态框\n    showEditTagModal(tag) {\n      this.isEditing = true;\n      // 拷贝标签数据到表单，确保不直接修改 Vuex 状态\n      this.tagForm = { ...tag };\n      this.showTagModal = true;\n    },\n    \n    // 显示删除标签确认模态框\n    showDeleteTagModal(tag) {\n      this.tagToDelete = tag;\n      this.showDeleteModal = true;\n    },\n    \n    // 处理添加/编辑标签表单提交\n    async handleTagSubmit(bvModalEvent) {\n      bvModalEvent.preventDefault(); // 阻止模态框自动关闭\n      \n      if (!this.tagForm.name.trim()) {\n        this.$bvToast.toast('标签名称不能为空', { title: '验证错误', variant: 'warning', solid: true });\n        return;\n      }\n\n      try {\n        if (this.isEditing) {\n          // 调用更新标签 action\n          await this.updateTag({\n            id: this.tagForm._id, // 标签ID\n            tagData: {            // 更新数据\n              name: this.tagForm.name.trim(),\n              color: this.tagForm.color\n            }\n          });\n          this.$bvToast.toast('标签已更新', {\n            title: '成功',\n            variant: 'success',\n            solid: true\n          });\n        } else {\n          // 调用创建标签 action\n          await this.createTag({\n            name: this.tagForm.name.trim(),\n            color: this.tagForm.color\n          });\n          this.$bvToast.toast('标签已创建', {\n            title: '成功',\n            variant: 'success',\n            solid: true\n          });\n        }\n        this.showTagModal = false; // 操作成功后关闭模态框\n      } catch (error) {\n        // 错误信息会由 Vuex 映射到 errorMessage\n        this.$bvToast.toast(this.errorMessage || '操作失败，请重试', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        });\n      }\n    },\n    \n    // 删除标签\n    async deleteTag() {\n      if (!this.tagToDelete) return;\n      \n      try {\n        // 调用删除标签 action\n        await this.deleteTag(this.tagToDelete._id);\n        this.$bvToast.toast('标签已删除', {\n          title: '成功',\n          variant: 'success',\n          solid: true\n        });\n      } catch (error) {\n        this.$bvToast.toast(this.errorMessage || '删除失败，请重试', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        });\n      } finally {\n        this.tagToDelete = null; // 清空待删除标签\n      }\n    },\n    \n    // 重置标签表单\n    resetTagForm() {\n      this.tagForm = {\n        _id: null,\n        name: '',\n        color: '#3498db'\n      };\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 颜色预览块 */\n.color-preview {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  margin-right: 10px;\n  border: 1px solid #ddd; /* 增加边框以便白色背景颜色可见 */\n  border-radius: 4px;\n  vertical-align: middle;\n}\n\n/* 覆盖 Bootstrap 的一些默认颜色 */\n.btn-primary {\n  background-color: #0088cc !important;\n  border-color: #0088cc !important;\n}\n\n.btn-primary:hover {\n  background-color: #006699 !important;\n  border-color: #006699 !important;\n}\n\n.btn-success {\n  background-color: #28a745 !important;\n  border-color: #28a745 !important;\n}\n\n.btn-success:hover {\n  background-color: #218838 !important;\n  border-color: #1e7e34 !important;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Tags.vue?vue&type=template&id=6faafcf3&scoped=true\"\nimport script from \"./Tags.vue?vue&type=script&lang=js\"\nexport * from \"./Tags.vue?vue&type=script&lang=js\"\nimport style0 from \"./Tags.vue?vue&type=style&index=0&id=6faafcf3&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6faafcf3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search-page\"},[_c('h1',{staticClass:\"my-4\"},[_vm._v(\"搜索结果\")]),_c('b-card',{staticClass:\"mb-4\"},[_c('b-card-body',[_c('div',{staticClass:\"input-group\"},[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"输入搜索关键字...\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.performSearch.apply(null, arguments)}},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}}),_c('b-button',{attrs:{\"variant\":\"primary\",\"type\":\"button\"},on:{\"click\":_vm.performSearch}},[_c('i',{staticClass:\"bi bi-search me-1\"}),_vm._v(\" 搜索 \")]),_c('b-button',{attrs:{\"variant\":\"outline-secondary\",\"type\":\"button\"},on:{\"click\":_vm.clearSearch}},[_c('i',{staticClass:\"bi bi-x-lg\"}),_vm._v(\" 清除 \")])],1)])],1),(_vm.isLoading)?_c('div',{staticClass:\"text-center my-5\"},[_c('b-spinner',{staticClass:\"text-primary\"}),_c('p',{staticClass:\"mt-2\"},[_vm._v(\"正在搜索收藏内容...\")])],1):(_vm.hasError)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.errorMessage))]):(_vm.favorites.length === 0)?_c('div',{staticClass:\"text-center my-5 empty-state\"},[_c('i',{staticClass:\"bi bi-search display-1 text-muted\"}),_c('h3',{staticClass:\"mt-3\"},[_vm._v(\"未找到相关收藏\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"请尝试不同的搜索关键字。\")])]):_c('div',[_c('h4',{staticClass:\"mb-3\"},[_vm._v(\"找到 \"+_vm._s(_vm.currentPagination.total)+\" 个结果\")]),_c('b-row',{staticClass:\"row-cols-1 row-cols-md-2 row-cols-lg-3 g-4\"},_vm._l((_vm.favorites),function(favorite){return _c('b-col',{key:favorite._id},[_c('b-card',{staticClass:\"h-100\",attrs:{\"no-body\":\"\"}},[(['photo', 'video', 'document', 'audio'].includes(favorite.type))?_c('div',{staticClass:\"card-img-top favorite-media\"},[(favorite.type === 'video')?_c('div',{staticClass:\"video-thumbnail position-relative\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":favorite.content.thumbnailUrl || _vm.videoPlaceholder,\"alt\":\"视频缩略图\"}}),_c('div',{staticClass:\"play-icon\"},[_c('i',{staticClass:\"bi bi-play-circle-fill\"})])]):(favorite.type === 'photo')?_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":favorite.content.url || _vm.imagePlaceholder,\"alt\":\"图片\"}}):(favorite.type === 'document')?_c('div',{staticClass:\"text-center p-3 bg-light d-flex flex-column align-items-center justify-content-center h-100\"},[_c('i',{staticClass:\"bi bi-file-earmark-text display-4 text-primary\"}),_c('p',{staticClass:\"mt-2 text-muted small\"},[_vm._v(_vm._s(favorite.content.fileName || '文档'))])]):(favorite.type === 'audio')?_c('div',{staticClass:\"text-center p-3 bg-light d-flex flex-column align-items-center justify-content-center h-100\"},[_c('i',{staticClass:\"bi bi-music-note-beamed display-4 text-secondary\"}),_c('p',{staticClass:\"mt-2 text-muted small\"},[_vm._v(_vm._s(favorite.content.fileName || '音频'))])]):_vm._e()]):(favorite.type === 'link')?_c('div',{staticClass:\"card-img-top text-center p-3 bg-light d-flex flex-column align-items-center justify-content-center h-100\"},[_c('i',{staticClass:\"bi bi-link-45deg display-4 text-info\"}),_c('p',{staticClass:\"mt-2 text-muted small\"},[_vm._v(_vm._s(_vm._f(\"$_truncateText\")(favorite.content.url,50)))])]):_c('div',{staticClass:\"card-img-top text-center p-3 bg-light d-flex flex-column align-items-center justify-content-center h-100\"},[_c('i',{staticClass:\"bi bi-chat-quote display-4 text-secondary\"})]),_c('b-card-body',[_c('b-card-title',{staticClass:\"mb-2\"},[_vm._v(\" \"+_vm._s(_vm._f(\"$_truncateText\")(favorite.content.caption || favorite.content.text || '无标题',50))+\" \")]),_c('b-card-text',{staticClass:\"text-muted small\"},[_vm._v(\" \"+_vm._s(_vm._f(\"$_formatDate\")(favorite.savedAt,{year: 'numeric', month: 'short', day: 'numeric'}))+\" · \"+_vm._s(favorite.category || '未分类')+\" \")]),_c('div',{staticClass:\"tags mt-2\"},_vm._l((favorite.tags),function(tag){return _c('b-badge',{key:tag._id || tag,staticClass:\"tag-badge-style me-1 mb-1\",attrs:{\"pill\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.filterByTag(tag)}}},[_vm._v(\" \"+_vm._s(tag.name || tag)+\" \")])}),1)],1),_c('b-card-footer',{staticClass:\"bg-white border-top-0 d-flex justify-content-between\"},[_c('router-link',{staticClass:\"btn btn-sm btn-outline-primary\",attrs:{\"to\":`/favorites/${favorite._id}`}},[_vm._v(\" 查看详情 \")]),_c('b-button',{attrs:{\"variant\":\"outline-danger\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.confirmDelete(favorite)}}},[_c('i',{staticClass:\"bi bi-trash\"})])],1)],1)],1)}),1),(_vm.currentPagination.total > _vm.currentPagination.limit)?_c('div',{staticClass:\"pagination-container mt-4 d-flex justify-content-center\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.currentPagination.total,\"per-page\":_vm.currentPagination.limit,\"aria-controls\":\"favorites-list\"},on:{\"change\":_vm.changePage},model:{value:(_vm.currentPagination.page),callback:function ($$v) {_vm.$set(_vm.currentPagination, \"page\", $$v)},expression:\"currentPagination.page\"}})],1):_vm._e()],1),_c('b-modal',{attrs:{\"id\":\"delete-modal-search\",\"title\":\"确认删除\",\"ok-variant\":\"danger\",\"ok-title\":\"删除\"},on:{\"ok\":_vm.deleteFavorite}},[_c('p',[_vm._v(\"确定要删除这个收藏吗？此操作无法撤销。\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search-page\">\n    <h1 class=\"my-4\">搜索结果</h1>\n    \n    <b-card class=\"mb-4\">\n      <b-card-body>\n        <div class=\"input-group\">\n          <b-form-input type=\"text\" placeholder=\"输入搜索关键字...\" v-model=\"searchQuery\" @keyup.enter=\"performSearch\"></b-form-input>\n          <b-button variant=\"primary\" type=\"button\" @click=\"performSearch\">\n            <i class=\"bi bi-search me-1\"></i> 搜索\n          </b-button>\n          <b-button variant=\"outline-secondary\" type=\"button\" @click=\"clearSearch\">\n            <i class=\"bi bi-x-lg\"></i> 清除\n          </b-button>\n        </div>\n      </b-card-body>\n    </b-card>\n    \n    <div v-if=\"isLoading\" class=\"text-center my-5\">\n      <b-spinner class=\"text-primary\"></b-spinner>\n      <p class=\"mt-2\">正在搜索收藏内容...</p>\n    </div>\n    \n    <b-alert v-else-if=\"hasError\" show variant=\"danger\">{{ errorMessage }}</b-alert>\n    \n    <div v-else-if=\"favorites.length === 0\" class=\"text-center my-5 empty-state\">\n      <i class=\"bi bi-search display-1 text-muted\"></i>\n      <h3 class=\"mt-3\">未找到相关收藏</h3>\n      <p class=\"text-muted\">请尝试不同的搜索关键字。</p>\n    </div>\n    \n    <div v-else>\n      <h4 class=\"mb-3\">找到 {{ currentPagination.total }} 个结果</h4>\n      <b-row class=\"row-cols-1 row-cols-md-2 row-cols-lg-3 g-4\">\n        <b-col v-for=\"favorite in favorites\" :key=\"favorite._id\">\n          <b-card no-body class=\"h-100\">\n            <div class=\"card-img-top favorite-media\" v-if=\"['photo', 'video', 'document', 'audio'].includes(favorite.type)\">\n              <div v-if=\"favorite.type === 'video'\" class=\"video-thumbnail position-relative\">\n                <img :src=\"favorite.content.thumbnailUrl || videoPlaceholder\" class=\"img-fluid\" alt=\"视频缩略图\">\n                <div class=\"play-icon\">\n                  <i class=\"bi bi-play-circle-fill\"></i>\n                </div>\n              </div>\n              <img v-else-if=\"favorite.type === 'photo'\" :src=\"favorite.content.url || imagePlaceholder\" class=\"img-fluid\" alt=\"图片\">\n              <div v-else-if=\"favorite.type === 'document'\" class=\"text-center p-3 bg-light d-flex flex-column align-items-center justify-content-center h-100\">\n                <i class=\"bi bi-file-earmark-text display-4 text-primary\"></i>\n                <p class=\"mt-2 text-muted small\">{{ favorite.content.fileName || '文档' }}</p>\n              </div>\n              <div v-else-if=\"favorite.type === 'audio'\" class=\"text-center p-3 bg-light d-flex flex-column align-items-center justify-content-center h-100\">\n                <i class=\"bi bi-music-note-beamed display-4 text-secondary\"></i>\n                <p class=\"mt-2 text-muted small\">{{ favorite.content.fileName || '音频' }}</p>\n              </div>\n            </div>\n            <div v-else-if=\"favorite.type === 'link'\" class=\"card-img-top text-center p-3 bg-light d-flex flex-column align-items-center justify-content-center h-100\">\n              <i class=\"bi bi-link-45deg display-4 text-info\"></i>\n              <p class=\"mt-2 text-muted small\">{{ favorite.content.url | $_truncateText(50) }}</p>\n            </div>\n            <div v-else class=\"card-img-top text-center p-3 bg-light d-flex flex-column align-items-center justify-content-center h-100\">\n              <i class=\"bi bi-chat-quote display-4 text-secondary\"></i>\n            </div>\n            \n            <b-card-body>\n              <b-card-title class=\"mb-2\">\n                {{ favorite.content.caption || favorite.content.text || '无标题' | $_truncateText(50) }}\n              </b-card-title>\n              <b-card-text class=\"text-muted small\">\n                {{ favorite.savedAt | $_formatDate({year: 'numeric', month: 'short', day: 'numeric'}) }} · {{ favorite.category || '未分类' }}\n              </b-card-text>\n              \n              <div class=\"tags mt-2\">\n                <b-badge \n                  v-for=\"tag in favorite.tags\" \n                  :key=\"tag._id || tag\" \n                  pill \n                  class=\"tag-badge-style me-1 mb-1\"\n                  @click.stop=\"filterByTag(tag)\"\n                >\n                  {{ tag.name || tag }}\n                </b-badge>\n              </div>\n            </b-card-body>\n            \n            <b-card-footer class=\"bg-white border-top-0 d-flex justify-content-between\">\n              <router-link :to=\"`/favorites/${favorite._id}`\" class=\"btn btn-sm btn-outline-primary\">\n                查看详情\n              </router-link>\n              <b-button variant=\"outline-danger\" size=\"sm\" @click=\"confirmDelete(favorite)\">\n                <i class=\"bi bi-trash\"></i>\n              </b-button>\n            </b-card-footer>\n          </b-card>\n        </b-col>\n      </b-row>\n      \n      <div v-if=\"currentPagination.total > currentPagination.limit\" class=\"pagination-container mt-4 d-flex justify-content-center\">\n        <b-pagination\n          v-model=\"currentPagination.page\"\n          :total-rows=\"currentPagination.total\"\n          :per-page=\"currentPagination.limit\"\n          @change=\"changePage\"\n          aria-controls=\"favorites-list\"\n        ></b-pagination>\n      </div>\n    </div>\n    \n    <b-modal id=\"delete-modal-search\" title=\"确认删除\" ok-variant=\"danger\" ok-title=\"删除\" @ok=\"deleteFavorite\">\n      <p>确定要删除这个收藏吗？此操作无法撤销。</p>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'Search',\n  data() {\n    return {\n      searchQuery: '', // 搜索关键字\n      favoriteToDelete: null, // 待删除的收藏项\n\n      // 占位符图片路径\n      imagePlaceholder: require('@/assets/img/image-placeholder.jpg'),\n      videoPlaceholder: require('@/assets/img/video-placeholder.jpg'),\n      \n      // 过滤器选项 (如果需要在这里添加过滤)\n      // filters: {\n      //   type: null,\n      //   category: null,\n      //   sortBy: 'savedAt',\n      //   sortOrder: 'desc'\n      // },\n      // typeOptions: [],\n      // categoryOptions: [],\n      // sortByOptions: []\n    };\n  },\n  computed: {\n    ...mapGetters('favorites', [\n      'allFavorites', \n      'isLoading', \n      'hasError', \n      'errorMessage', \n      'currentFilters', // 从 Vuex 获取当前过滤器状态\n      'currentPagination' // 从 Vuex 获取当前分页状态\n    ]),\n    ...mapGetters('tags', { allTags: 'allTags' }), // 从 tags 模块映射 allTags\n\n    favorites() {\n      // 确保这里的 favorites 始终反映搜索结果\n      return this.allFavorites;\n    }\n  },\n  methods: {\n    ...mapActions('favorites', [\n      'fetchFavorites', // 用于获取数据\n      'deleteFavorite', // 用于删除收藏\n      'updateFiltersAndFetch', // 用于更新过滤器并触发获取\n      'setPage' // 用于分页\n    ]),\n    \n    // 执行搜索\n    performSearch() {\n      if (this.searchQuery.trim()) {\n        // 更新 Vuex 中的搜索过滤器并重新获取数据\n        this.updateFiltersAndFetch({\n          ...this.currentFilters, // 保持其他过滤器不变\n          search: this.searchQuery.trim(),\n          page: 1 // 搜索时重置页码\n        });\n      } else {\n        this.clearSearch(); // 如果搜索框为空，则清除搜索\n      }\n    },\n\n    // 清除搜索\n    clearSearch() {\n      this.searchQuery = '';\n      this.updateFiltersAndFetch({\n        ...this.currentFilters,\n        search: null, // 清除搜索关键字\n        page: 1\n      });\n    },\n\n    // 按标签筛选 (点击搜索结果中的标签时)\n    filterByTag(tag) {\n      // 跳转到 Favorites 页面，并带上标签作为过滤器\n      const tagName = typeof tag === 'string' ? tag : tag.name;\n      this.$router.push({\n        path: '/favorites',\n        query: { tag: tagName } // 传递标签名\n      });\n    },\n\n    // 改变页码\n    changePage(page) {\n      this.setPage(page);\n    },\n\n    // 确认删除 (与 Favorites.vue 相同)\n    confirmDelete(favorite) {\n      this.favoriteToDelete = favorite;\n      this.$bvModal.show('delete-modal-search'); // 使用不同的 modal ID\n    },\n    \n    // 执行删除 (与 Favorites.vue 相同)\n    async deleteFavorite() {\n      if (this.favoriteToDelete) {\n        try {\n          await this.deleteFavorite(this.favoriteToDelete._id);\n          this.$bvToast.toast('收藏已删除', {\n            title: '成功',\n            variant: 'success',\n            solid: true\n          });\n        } catch (error) {\n          this.$bvToast.toast(this.errorMessage || '删除失败，请重试', {\n            title: '错误',\n            variant: 'danger',\n            solid: true\n          });\n        } finally {\n          this.favoriteToDelete = null;\n        }\n      }\n    }\n  },\n  \n  // 组件创建时和路由参数变化时执行搜索\n  created() {\n    // 从路由查询参数初始化搜索框\n    if (this.$route.query.q) {\n      this.searchQuery = this.$route.query.q;\n      // 触发搜索\n      this.performSearch();\n    } else {\n      // 如果没有搜索参数，确保清除 Vuex 中的搜索过滤器\n      this.clearSearch();\n    }\n  },\n  // 监听路由查询参数变化，例如从 App.vue 全局搜索跳转过来\n  watch: {\n    '$route.query.q': {\n      handler(newSearchQuery) {\n        if (newSearchQuery !== this.searchQuery) {\n          this.searchQuery = newSearchQuery || '';\n          this.performSearch();\n        } else if (!newSearchQuery && this.searchQuery) {\n          // 如果查询参数被清空，且本地搜索框有内容，则清除本地搜索框\n          this.searchQuery = '';\n          this.clearSearch();\n        }\n      },\n      immediate: true // 立即执行一次\n    },\n    // 监听分页参数变化，例如从 Favorites 页面点击搜索后跳转过来\n    'currentPagination.page': {\n      handler(newPage, oldPage) {\n        if (newPage !== oldPage && this.$route.name === 'Search' && this.$route.query.q) {\n          // 如果当前在搜索页，且页码变化，且有搜索关键字，则触发搜索\n          this.performSearch();\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.search-page {\n  padding-bottom: 30px;\n}\n/* 媒体预览和标签样式与 Favorites.vue 保持一致，也可以抽离到通用样式 */\n.favorite-media {\n  height: 200px;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #f8f9fa;\n  border-bottom: 1px solid #eee;\n}\n\n.favorite-media img {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n}\n\n.video-thumbnail {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.video-thumbnail img {\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n}\n\n.play-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 3rem;\n  color: rgba(255, 255, 255, 0.9);\n  text-shadow: 0 0 10px rgba(0,0,0,0.7);\n  pointer-events: none;\n}\n\n.empty-state {\n  padding: 50px 0;\n}\n\n.tag-badge-style {\n  background-color: #e9ecef;\n  color: #495057;\n  cursor: pointer;\n  padding: 0.35em 0.65em;\n  border-radius: 0.25rem;\n}\n\n.tag-badge-style:hover {\n  background-color: #0088cc;\n  color: white;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=99ae4a10&scoped=true\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=99ae4a10&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"99ae4a10\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"settings-page\"},[_c('h2',{staticClass:\"mb-4\"},[_vm._v(\"用户设置\")]),(_vm.hasError)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.errorMessage))]):_vm._e(),(_vm.saveSuccess)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"success\"}},[_vm._v(\"设置已成功保存！\")]):_vm._e(),_c('b-card',{staticClass:\"mb-4\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h5',[_vm._v(\"通用设置\")])]},proxy:true}])},[_c('b-card-body',[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.saveSettings.apply(null, arguments)}}},[_c('b-form-group',{attrs:{\"label\":\"默认视图:\",\"label-for\":\"default-view\"}},[_c('b-form-radio-group',{attrs:{\"id\":\"default-view\",\"options\":[{ text: '网格视图', value: 'grid' }, { text: '列表视图', value: 'list' }],\"stacked\":\"\"},model:{value:(_vm.settings.defaultView),callback:function ($$v) {_vm.$set(_vm.settings, \"defaultView\", $$v)},expression:\"settings.defaultView\"}})],1),_c('b-form-group',{attrs:{\"label\":\"每页显示数量:\",\"label-for\":\"items-per-page\"}},[_c('b-form-select',{attrs:{\"id\":\"items-per-page\",\"options\":[10, 20, 50, 100]},model:{value:(_vm.settings.itemsPerPage),callback:function ($$v) {_vm.$set(_vm.settings, \"itemsPerPage\", $$v)},expression:\"settings.itemsPerPage\"}})],1),_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\",\"disabled\":_vm.isLoading}},[(_vm.isLoading)?_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\"}}):_vm._e(),_vm._v(\" 保存设置 \")],1)],1)],1)],1)],1),_c('b-card',{staticClass:\"mt-4 mb-4\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"Telegram账户管理\")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":_vm.showAddAccountModal}},[_c('i',{staticClass:\"bi bi-plus-circle me-1\"}),_vm._v(\" 添加账户 \")])],1)]},proxy:true}])},[_c('b-card-body',[(_vm.telegramAccounts.length === 0)?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"info\"}},[_c('i',{staticClass:\"bi bi-info-circle me-1\"}),_vm._v(\" 暂无Telegram账户，请添加您的第一个账户。 \")]):_c('b-list-group',_vm._l((_vm.telegramAccounts),function(account){return _c('b-list-group-item',{key:account.id,staticClass:\"d-flex justify-content-between align-items-center\",class:{ 'border-primary': account.isActive, 'account-item': true }},[_c('div',[_c('h6',[_vm._v(_vm._s(account.name || `账户 ${account.id.substring(0, 8)}...`)+\" \"),(account.isActive)?_c('b-badge',{staticClass:\"ms-2\",attrs:{\"variant\":\"primary\"}},[_vm._v(\"活跃\")]):_vm._e()],1),_c('p',{staticClass:\"text-muted mb-0 small\"},[_vm._v(\" @\"+_vm._s(account.username || 'N/A')+\" (ID: \"+_vm._s(account.telegramId || 'N/A')+\")\"),_c('br'),_vm._v(\" 上次同步: \"+_vm._s(_vm._f(\"$_formatDate\")(account.lastSync,{year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit'}))+\" \")])]),_c('div',{staticClass:\"d-flex gap-2\"},[(!account.isActive)?_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-primary\",\"disabled\":_vm.isLoading},on:{\"click\":function($event){return _vm.switchActiveAccount(account.id)}}},[_vm._v(\" 切换活跃 \")]):_vm._e(),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"outline-danger\"},on:{\"click\":function($event){return _vm.confirmDeleteAccount(account)}}},[_c('i',{staticClass:\"bi bi-trash\"}),_vm._v(\" 删除 \")])],1)])}),1)],1)],1),_c('b-card',{staticClass:\"mt-4 mb-4\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h5',[_vm._v(\"收藏同步\")])]},proxy:true}])},[_c('b-card-body',[(_vm.sessionStatus === 'active')?_c('p',{staticClass:\"text-success mb-2\"},[_c('i',{staticClass:\"bi bi-check-circle me-2\"}),_vm._v(\" 您的Telegram会话已连接，收藏内容将自动同步。 \")]):(_vm.sessionStatus === 'error')?_c('p',{staticClass:\"text-danger mb-2\"},[_c('i',{staticClass:\"bi bi-exclamation-triangle me-2\"}),_vm._v(\" 会话连接错误: \"+_vm._s(_vm.sessionError)+\" \")]):_c('p',{staticClass:\"text-warning mb-2\"},[_c('i',{staticClass:\"bi bi-info-circle me-2\"}),_vm._v(\" 您尚未连接Telegram会话，请在\\\"添加账户\\\"时提供完整的Telegram凭证。 \")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\",\"disabled\":_vm.syncLoading || !_vm.hasActiveAccount},on:{\"click\":_vm.syncFavorites}},[(_vm.syncLoading)?_c('b-spinner',{attrs:{\"small\":\"\",\"type\":\"grow\"}}):_vm._e(),_vm._v(\" 手动同步收藏 \")],1),(_vm.lastSyncTime)?_c('small',{staticClass:\"text-muted ms-3\"},[_vm._v(\" 上次同步: \"+_vm._s(_vm._f(\"$_formatDate\")(_vm.lastSyncTime,{year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit'}))+\" \")]):_vm._e()],1)],1),(_vm.activeAccount)?_c('b-card',{staticClass:\"mt-4 mb-4\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h5',[_vm._v(\"用户信息\")])]},proxy:true}],null,false,3637070169)},[_c('b-card-body',[_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"md\":\"2\",\"cols\":\"4\"}},[_c('b-img',{attrs:{\"src\":_vm.activeAccount.profilePhoto || _vm.defaultAvatar,\"rounded\":\"circle\",\"fluid\":\"\",\"alt\":\"用户头像\"}})],1),_c('b-col',{attrs:{\"md\":\"10\",\"cols\":\"8\"}},[_c('h5',[_vm._v(_vm._s(_vm.activeAccount.firstName || 'N/A')+\" \"+_vm._s(_vm.activeAccount.lastName || 'N/A'))]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"@\"+_vm._s(_vm.activeAccount.username || 'N/A'))]),_c('p',{staticClass:\"mb-0\"},[_c('strong',[_vm._v(\"Telegram ID:\")]),_vm._v(\" \"+_vm._s(_vm.activeAccount.telegramId || 'N/A'))]),_c('p',{staticClass:\"mb-0\"},[_c('strong',[_vm._v(\"注册时间:\")]),_vm._v(\" \"+_vm._s(_vm._f(\"$_formatDate\")(_vm.user.createdAt)))]),_c('p',{staticClass:\"mb-0\"},[_c('strong',[_vm._v(\"最后登录:\")]),_vm._v(\" \"+_vm._s(_vm._f(\"$_formatDate\")(_vm.user.lastLogin)))])])],1)],1)],1):_c('b-card',{staticClass:\"mt-4 mb-4\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h5',[_vm._v(\"用户信息\")])]},proxy:true}])},[_c('b-card-body',[_c('p',{staticClass:\"text-muted\"},[_vm._v(\"请添加并激活您的Telegram账户，以查看您的用户信息。\")])])],1),_c('b-card',{staticClass:\"mt-4 mb-4\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h5',[_vm._v(\"账户操作\")])]},proxy:true}])},[_c('b-card-body',[_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.confirmLogout}},[_c('i',{staticClass:\"bi bi-box-arrow-right me-1\"}),_vm._v(\" 退出登录 \")])],1)],1),_c('b-modal',{attrs:{\"id\":\"add-account-modal\",\"title\":_vm.isEditingAccount ? '编辑Telegram账户' : '添加Telegram账户',\"ok-disabled\":!_vm.isAddAccountFormValid,\"ok-title\":_vm.isEditingAccount ? '保存' : '添加'},on:{\"ok\":_vm.handleAddAccountSubmit,\"hidden\":_vm.resetAddAccountForm},model:{value:(_vm.showAddAccountModalForm),callback:function ($$v) {_vm.showAddAccountModalForm=$$v},expression:\"showAddAccountModalForm\"}},[_c('b-form',[_c('b-form-group',{attrs:{\"label\":\"账户名称 (可选):\",\"label-for\":\"modal-account-name\"}},[_c('b-form-input',{attrs:{\"id\":\"modal-account-name\",\"placeholder\":\"例如：个人账户\"},model:{value:(_vm.addAccountForm.name),callback:function ($$v) {_vm.$set(_vm.addAccountForm, \"name\", $$v)},expression:\"addAccountForm.name\"}})],1),_c('b-form-group',{attrs:{\"label\":\"API ID:\",\"label-for\":\"modal-api-id\"}},[_c('b-form-input',{attrs:{\"id\":\"modal-api-id\",\"required\":\"\"},model:{value:(_vm.addAccountForm.apiId),callback:function ($$v) {_vm.$set(_vm.addAccountForm, \"apiId\", $$v)},expression:\"addAccountForm.apiId\"}}),_c('div',{staticClass:\"form-text\"},[_vm._v(\"从 \"),_c('a',{attrs:{\"href\":\"https://my.telegram.org/apps\",\"target\":\"_blank\"}},[_vm._v(\"my.telegram.org/apps\")]),_vm._v(\" 获取\")])],1),_c('b-form-group',{attrs:{\"label\":\"API Hash:\",\"label-for\":\"modal-api-hash\"}},[_c('b-form-input',{attrs:{\"id\":\"modal-api-hash\",\"required\":\"\"},model:{value:(_vm.addAccountForm.apiHash),callback:function ($$v) {_vm.$set(_vm.addAccountForm, \"apiHash\", $$v)},expression:\"addAccountForm.apiHash\"}})],1),_c('b-form-group',{attrs:{\"label\":\"SESSION_STRING:\",\"label-for\":\"modal-session-string\"}},[_c('b-form-textarea',{attrs:{\"id\":\"modal-session-string\",\"rows\":\"3\",\"required\":\"\"},model:{value:(_vm.addAccountForm.sessionString),callback:function ($$v) {_vm.$set(_vm.addAccountForm, \"sessionString\", $$v)},expression:\"addAccountForm.sessionString\"}}),_c('div',{staticClass:\"form-text\"},[_vm._v(\" 使用Telegram客户端生成的会话字符串 \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.showSessionHelp = true}}},[_vm._v(\"如何获取SESSION_STRING?\")])])],1)],1)],1),_c('b-modal',{attrs:{\"id\":\"session-help-modal\",\"title\":\"如何获取SESSION_STRING\",\"ok-only\":\"\"},model:{value:(_vm.showSessionHelp),callback:function ($$v) {_vm.showSessionHelp=$$v},expression:\"showSessionHelp\"}},[_c('div',[_c('p',[_vm._v(\"获取Telegram SESSION_STRING的步骤：\")]),_c('ol',[_c('li',[_vm._v(\"安装Python 3.8+\")]),_c('li',[_vm._v(\"安装Telethon库: \"),_c('code',[_vm._v(\"pip install telethon\")])]),_c('li',[_vm._v(\"创建并运行以下Python脚本：\")])]),_c('pre',[_c('code',[_vm._v(\"from telethon.sync import TelegramClient\\nfrom telethon.sessions import StringSession\\n\\nAPI_ID = \\\"您的API_ID\\\"\\nAPI_HASH = \\\"您的API_HASH\\\"\\n\\nwith TelegramClient(StringSession(), API_ID, API_HASH) as client:\\n    print(\\\"请登录您的Telegram账号...\\\")\\n    client.start()\\n    session_string = client.session.save()\\n    print(f\\\"您的SESSION_STRING: {session_string}\\\")\")])]),_c('p',[_vm._v(\"运行脚本后，按照提示登录您的Telegram账号，然后复制生成的SESSION_STRING。\")]),_c('p',{staticClass:\"text-danger\"},[_vm._v(\"注意：SESSION_STRING包含敏感信息，请勿与他人分享。\")])])]),_c('b-modal',{attrs:{\"id\":\"delete-account-modal\",\"title\":\"确认删除账户\",\"ok-variant\":\"danger\",\"ok-title\":\"删除\"},on:{\"ok\":_vm.deleteAccount}},[_c('p',[_vm._v(\"确定要删除账户 \\\"\"+_vm._s(_vm.accountToDelete ? _vm.accountToDelete.name : '')+\"\\\" 吗？\")]),_c('p',{staticClass:\"text-danger\"},[_vm._v(\"删除账户后，您将无法查看和同步与此账户相关的收藏内容。\")])]),_c('b-modal',{attrs:{\"id\":\"logout-modal\",\"title\":\"确认退出\",\"ok-variant\":\"danger\",\"ok-title\":\"退出\"},on:{\"ok\":_vm.logout}},[_c('p',[_vm._v(\"确定要退出登录吗？\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"settings-page\">\n    <h2 class=\"mb-4\">用户设置</h2>\n    \n    <b-alert v-if=\"hasError\" show variant=\"danger\">{{ errorMessage }}</b-alert>\n    \n    <b-alert v-if=\"saveSuccess\" show variant=\"success\">设置已成功保存！</b-alert>\n    \n    <b-card class=\"mb-4\">\n      <template #header><h5>通用设置</h5></template>\n      <b-card-body>\n        <b-form @submit.prevent=\"saveSettings\">\n          <b-form-group label=\"默认视图:\" label-for=\"default-view\">\n            <b-form-radio-group\n              id=\"default-view\"\n              v-model=\"settings.defaultView\"\n              :options=\"[{ text: '网格视图', value: 'grid' }, { text: '列表视图', value: 'list' }]\"\n              stacked\n            ></b-form-radio-group>\n          </b-form-group>\n          \n          <b-form-group label=\"每页显示数量:\" label-for=\"items-per-page\">\n            <b-form-select\n              id=\"items-per-page\"\n              v-model=\"settings.itemsPerPage\"\n              :options=\"[10, 20, 50, 100]\"\n            ></b-form-select>\n          </b-form-group>\n          \n          <div class=\"d-flex justify-content-end\">\n            <b-button type=\"submit\" variant=\"primary\" :disabled=\"isLoading\">\n              <b-spinner v-if=\"isLoading\" small type=\"grow\"></b-spinner> 保存设置\n            </b-button>\n          </div>\n        </b-form>\n      </b-card-body>\n    </b-card>\n    \n    <b-card class=\"mt-4 mb-4\">\n      <template #header>\n        <div class=\"d-flex justify-content-between align-items-center\">\n          <h5 class=\"mb-0\">Telegram账户管理</h5>\n          <b-button size=\"sm\" variant=\"success\" @click=\"showAddAccountModal\">\n            <i class=\"bi bi-plus-circle me-1\"></i> 添加账户\n          </b-button>\n        </div>\n      </template>\n      <b-card-body>\n        <b-alert v-if=\"telegramAccounts.length === 0\" show variant=\"info\">\n          <i class=\"bi bi-info-circle me-1\"></i> 暂无Telegram账户，请添加您的第一个账户。\n        </b-alert>\n        <b-list-group v-else>\n          <b-list-group-item v-for=\"account in telegramAccounts\" :key=\"account.id\"\n            :class=\"{ 'border-primary': account.isActive, 'account-item': true }\"\n            class=\"d-flex justify-content-between align-items-center\"\n          >\n            <div>\n              <h6>{{ account.name || `账户 ${account.id.substring(0, 8)}...` }}\n                <b-badge v-if=\"account.isActive\" variant=\"primary\" class=\"ms-2\">活跃</b-badge>\n              </h6>\n              <p class=\"text-muted mb-0 small\">\n                @{{ account.username || 'N/A' }} (ID: {{ account.telegramId || 'N/A' }})<br/>\n                上次同步: {{ account.lastSync | $_formatDate({year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit'}) }}\n              </p>\n            </div>\n            <div class=\"d-flex gap-2\">\n              <b-button v-if=\"!account.isActive\" size=\"sm\" variant=\"outline-primary\" @click=\"switchActiveAccount(account.id)\" :disabled=\"isLoading\">\n                切换活跃\n              </b-button>\n              <b-button size=\"sm\" variant=\"outline-danger\" @click=\"confirmDeleteAccount(account)\">\n                <i class=\"bi bi-trash\"></i> 删除\n              </b-button>\n            </div>\n          </b-list-group-item>\n        </b-list-group>\n      </b-card-body>\n    </b-card>\n\n    <b-card class=\"mt-4 mb-4\">\n      <template #header><h5>收藏同步</h5></template>\n      <b-card-body>\n        <p v-if=\"sessionStatus === 'active'\" class=\"text-success mb-2\">\n          <i class=\"bi bi-check-circle me-2\"></i> 您的Telegram会话已连接，收藏内容将自动同步。\n        </p>\n        <p v-else-if=\"sessionStatus === 'error'\" class=\"text-danger mb-2\">\n          <i class=\"bi bi-exclamation-triangle me-2\"></i> 会话连接错误: {{ sessionError }}\n        </p>\n        <p v-else class=\"text-warning mb-2\">\n          <i class=\"bi bi-info-circle me-2\"></i> 您尚未连接Telegram会话，请在\"添加账户\"时提供完整的Telegram凭证。\n        </p>\n\n        <b-button variant=\"outline-primary\" @click=\"syncFavorites\" :disabled=\"syncLoading || !hasActiveAccount\">\n          <b-spinner v-if=\"syncLoading\" small type=\"grow\"></b-spinner> 手动同步收藏\n        </b-button>\n        <small class=\"text-muted ms-3\" v-if=\"lastSyncTime\">\n          上次同步: {{ lastSyncTime | $_formatDate({year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit'}) }}\n        </small>\n      </b-card-body>\n    </b-card>\n\n    <b-card class=\"mt-4 mb-4\" v-if=\"activeAccount\">\n      <template #header><h5>用户信息</h5></template>\n      <b-card-body>\n        <b-row align-v=\"center\">\n          <b-col md=\"2\" cols=\"4\">\n            <b-img :src=\"activeAccount.profilePhoto || defaultAvatar\" rounded=\"circle\" fluid alt=\"用户头像\"></b-img>\n          </b-col>\n          <b-col md=\"10\" cols=\"8\">\n            <h5>{{ activeAccount.firstName || 'N/A' }} {{ activeAccount.lastName || 'N/A' }}</h5>\n            <p class=\"text-muted\">@{{ activeAccount.username || 'N/A' }}</p>\n            <p class=\"mb-0\"><strong>Telegram ID:</strong> {{ activeAccount.telegramId || 'N/A' }}</p>\n            <p class=\"mb-0\"><strong>注册时间:</strong> {{ user.createdAt | $_formatDate() }}</p>\n            <p class=\"mb-0\"><strong>最后登录:</strong> {{ user.lastLogin | $_formatDate() }}</p>\n          </b-col>\n        </b-row>\n      </b-card-body>\n    </b-card>\n    <b-card class=\"mt-4 mb-4\" v-else> <template #header><h5>用户信息</h5></template>\n        <b-card-body>\n            <p class=\"text-muted\">请添加并激活您的Telegram账户，以查看您的用户信息。</p>\n        </b-card-body>\n    </b-card>\n    \n    <b-card class=\"mt-4 mb-4\">\n      <template #header><h5>账户操作</h5></template>\n      <b-card-body>\n        <b-button variant=\"danger\" @click=\"confirmLogout\">\n          <i class=\"bi bi-box-arrow-right me-1\"></i> 退出登录\n        </b-button>\n      </b-card-body>\n    </b-card>\n\n    <b-modal\n      id=\"add-account-modal\"\n      :title=\"isEditingAccount ? '编辑Telegram账户' : '添加Telegram账户'\"\n      v-model=\"showAddAccountModalForm\"\n      @ok=\"handleAddAccountSubmit\"\n      @hidden=\"resetAddAccountForm\"\n      :ok-disabled=\"!isAddAccountFormValid\"\n      :ok-title=\"isEditingAccount ? '保存' : '添加'\"\n    >\n      <b-form>\n        <b-form-group label=\"账户名称 (可选):\" label-for=\"modal-account-name\">\n          <b-form-input id=\"modal-account-name\" v-model=\"addAccountForm.name\" placeholder=\"例如：个人账户\"></b-form-input>\n        </b-form-group>\n        <b-form-group label=\"API ID:\" label-for=\"modal-api-id\">\n          <b-form-input id=\"modal-api-id\" v-model=\"addAccountForm.apiId\" required></b-form-input>\n          <div class=\"form-text\">从 <a href=\"https://my.telegram.org/apps\" target=\"_blank\">my.telegram.org/apps</a> 获取</div>\n        </b-form-group>\n        <b-form-group label=\"API Hash:\" label-for=\"modal-api-hash\">\n          <b-form-input id=\"modal-api-hash\" v-model=\"addAccountForm.apiHash\" required></b-form-input>\n        </b-form-group>\n        <b-form-group label=\"SESSION_STRING:\" label-for=\"modal-session-string\">\n          <b-form-textarea id=\"modal-session-string\" v-model=\"addAccountForm.sessionString\" rows=\"3\" required></b-form-textarea>\n          <div class=\"form-text\">\n            使用Telegram客户端生成的会话字符串\n            <a href=\"#\" @click.prevent=\"showSessionHelp = true\">如何获取SESSION_STRING?</a>\n          </div>\n        </b-form-group>\n      </b-form>\n    </b-modal>\n\n    <b-modal id=\"session-help-modal\" title=\"如何获取SESSION_STRING\" v-model=\"showSessionHelp\" ok-only>\n      <div>\n        <p>获取Telegram SESSION_STRING的步骤：</p>\n        <ol>\n          <li>安装Python 3.8+</li>\n          <li>安装Telethon库: <code>pip install telethon</code></li>\n          <li>创建并运行以下Python脚本：</li>\n        </ol>\n        <pre><code>from telethon.sync import TelegramClient\nfrom telethon.sessions import StringSession\n\nAPI_ID = \"您的API_ID\"\nAPI_HASH = \"您的API_HASH\"\n\nwith TelegramClient(StringSession(), API_ID, API_HASH) as client:\n    print(\"请登录您的Telegram账号...\")\n    client.start()\n    session_string = client.session.save()\n    print(f\"您的SESSION_STRING: {session_string}\")</code></pre>\n        <p>运行脚本后，按照提示登录您的Telegram账号，然后复制生成的SESSION_STRING。</p>\n        <p class=\"text-danger\">注意：SESSION_STRING包含敏感信息，请勿与他人分享。</p>\n      </div>\n    </b-modal>\n    \n    <b-modal id=\"delete-account-modal\" title=\"确认删除账户\" ok-variant=\"danger\" ok-title=\"删除\" @ok=\"deleteAccount\">\n      <p>确定要删除账户 \"{{ accountToDelete ? accountToDelete.name : '' }}\" 吗？</p>\n      <p class=\"text-danger\">删除账户后，您将无法查看和同步与此账户相关的收藏内容。</p>\n    </b-modal>\n\n    <b-modal id=\"logout-modal\" title=\"确认退出\" ok-variant=\"danger\" ok-title=\"退出\" @ok=\"logout\">\n      <p>确定要退出登录吗？</p>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\n\nexport default {\n  name: 'Settings',\n  \n  data() {\n    return {\n      saveSuccess: false, // 保存设置成功提示\n      showSessionHelp: false, // SESSION_STRING 帮助模态框\n      showAddAccountModalForm: false, // 添加/编辑账户模态框\n      isEditingAccount: false, // 是否处于编辑模式\n      accountToDelete: null, // 待删除的账户\n      \n      // 用户设置本地副本，用于表单绑定\n      settings: {\n        defaultView: 'grid',\n        itemsPerPage: 20\n      },\n      \n      // 添加/编辑账户表单数据\n      addAccountForm: {\n        id: null, // 用于编辑模式\n        name: '',\n        apiId: '',\n        apiHash: '',\n        sessionString: ''\n      },\n\n      defaultAvatar: require('@/assets/img/default-avatar.png'), // 默认头像占位符\n    };\n  },\n  \n  computed: {\n    ...mapGetters('auth', [\n      'currentUser', // 映射 currentUser 为 user\n      'isLoading', // 映射全局加载状态\n      'hasError',  // 映射全局错误状态\n      'errorMessage', // 映射全局错误信息\n      'telegramAccounts', // 映射所有 Telegram 账户\n      'activeAccount', // 映射当前活跃账户\n      'hasActiveAccount', // 映射是否有活跃账户\n      'syncLoading', // 同步收藏的加载状态\n      'lastSyncTime' // 上次同步时间\n    ]),\n\n    // user getter 的别名，用于模板访问 currentUser\n    user: {\n      get() { return this.currentUser; },\n      set() {} // 只读，防止直接修改\n    },\n    \n    // 检查添加账户表单是否有效\n    isAddAccountFormValid() {\n      const { apiId, apiHash, sessionString } = this.addAccountForm;\n      return apiId && apiHash && sessionString;\n    }\n  },\n  \n  methods: {\n    ...mapActions('auth', [\n      'updateUserSettings', // 更新用户通用设置\n      'logout',             // 退出登录\n      'addTelegramAccount', // 添加 Telegram 账户\n      'switchTelegramAccount', // 切换活跃账户\n      'updateTelegramAccount', // 更新 Telegram 账户\n      'deleteTelegramAccount', // 删除 Telegram 账户\n      'syncFavorites'        // 手动同步收藏\n    ]),\n    \n    // 保存通用设置\n    async saveSettings() {\n      try {\n        await this.updateUserSettings(this.settings);\n        this.saveSuccess = true;\n        \n        setTimeout(() => {\n          this.saveSuccess = false;\n        }, 3000); // 3秒后隐藏成功提示\n      } catch (error) {\n        console.error('保存设置失败:', error);\n        this.$bvToast.toast(this.errorMessage || '保存设置失败，请重试', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        });\n      }\n    },\n    \n    // 显示添加账户模态框\n    showAddAccountModal() {\n      this.isEditingAccount = false;\n      this.resetAddAccountForm();\n      this.showAddAccountModalForm = true;\n    },\n\n    // 显示编辑账户模态框\n    showEditAccountModal(account) {\n      this.isEditingAccount = true;\n      // 拷贝账户数据到表单，避免直接修改 Vuex 状态\n      this.addAccountForm = { \n        id: account.id,\n        name: account.name,\n        // API 凭证通常不从后端返回，所以这里无法预填充。\n        // 如果要编辑它们，用户需要重新输入。\n        apiId: '', \n        apiHash: '', \n        sessionString: '' \n      };\n      this.showAddAccountModalForm = true;\n    },\n\n    // 处理添加/编辑账户表单提交\n    async handleAddAccountSubmit(bvModalEvent) {\n      bvModalEvent.preventDefault(); // 阻止模态框自动关闭\n      \n      if (!this.isAddAccountFormValid) {\n        this.$bvToast.toast('请填写所有必填的API凭证字段', { title: '验证失败', variant: 'warning', solid: true });\n        return;\n      }\n      \n      try {\n        const accountData = {\n          name: this.addAccountForm.name.trim() || undefined, // 如果为空则不发送 name 字段\n          apiId: this.addAccountForm.apiId.trim(),\n          apiHash: this.addAccountForm.apiHash.trim(),\n          sessionString: this.addAccountForm.sessionString.trim()\n        };\n\n        if (this.isEditingAccount) {\n          await this.updateTelegramAccount({\n            accountId: this.addAccountForm.id,\n            updateData: accountData\n          });\n          this.$bvToast.toast('账户信息已更新', { title: '成功', variant: 'success', solid: true });\n        } else {\n          await this.addTelegramAccount(accountData);\n          this.$bvToast.toast('Telegram账户已添加', { title: '成功', variant: 'success', solid: true });\n        }\n        \n        this.showAddAccountModalForm = false; // 关闭模态框\n      } catch (error) {\n        this.$bvToast.toast(this.errorMessage || '操作失败，请重试', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        });\n      }\n    },\n\n    // 重置添加账户表单\n    resetAddAccountForm() {\n      this.addAccountForm = {\n        id: null,\n        name: '',\n        apiId: '',\n        apiHash: '',\n        sessionString: ''\n      };\n      this.isEditingAccount = false;\n    },\n    \n    // 切换活跃账户\n    async switchActiveAccount(accountId) {\n      try {\n        await this.switchTelegramAccount(accountId);\n        this.$bvToast.toast('活跃账户已切换', { title: '成功', variant: 'success', solid: true });\n      } catch (error) {\n        this.$bvToast.toast(this.errorMessage || '切换账户失败，请重试', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        });\n      }\n    },\n    \n    // 确认删除账户\n    confirmDeleteAccount(account) {\n      this.accountToDelete = account;\n      this.$bvModal.show('delete-account-modal');\n    },\n\n    // 删除账户\n    async deleteAccount() {\n      if (!this.accountToDelete) return;\n      \n      try {\n        await this.deleteTelegramAccount(this.accountToDelete.id);\n        this.$bvToast.toast('账户已删除', { title: '成功', variant: 'success', solid: true });\n      } catch (error) {\n        this.$bvToast.toast(this.errorMessage || '删除账户失败，请重试', {\n          title: '错误',\n          variant: 'danger',\n          solid: true\n        });\n      } finally {\n        this.accountToDelete = null;\n      }\n    },\n    \n    // 确认退出登录\n    confirmLogout() {\n      this.$bvModal.show('logout-modal');\n    },\n\n    // 格式化日期\n    formatDate(dateString) {\n      return this.$_formatDate(dateString); // 使用全局辅助函数\n    }\n  },\n  \n  // 组件创建时加载数据\n  async created() {\n    // 尝试获取最新的用户数据和账户列表\n    if (this.isAuthenticated) { // 确保用户已登录\n      try {\n        await this.fetchCurrentUser(); // 这个 action 也会更新 activeAccount 和 telegramAccounts\n        // 初始化 settings 副本\n        if (this.user && this.user.settings) {\n          this.settings = { ...this.user.settings };\n        }\n      } catch (error) {\n        // fetchCurrentUser 内部已处理 token 无效的重定向\n        console.error(\"加载用户设置和账户失败:\", error);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.settings-page {\n  padding-bottom: 30px;\n}\n\n.account-item {\n  transition: all 0.2s ease-in-out;\n}\n\n.account-item:hover {\n  background-color: #f8f9fa;\n}\n\npre {\n  background-color: #f8f9fa;\n  padding: 1rem;\n  border-radius: 0.25rem;\n  overflow-x: auto;\n}\n\ncode {\n  color: #d63384;\n}\n\n/* 覆盖 Bootstrap 的一些默认颜色 */\n.btn-primary {\n  background-color: #0088cc !important;\n  border-color: #0088cc !important;\n}\n\n.btn-primary:hover {\n  background-color: #006699 !important;\n  border-color: #006699 !important;\n}\n\n.btn-success {\n  background-color: #28a745 !important;\n  border-color: #28a745 !important;\n}\n\n.btn-success:hover {\n  background-color: #218838 !important;\n  border-color: #1e7e34 !important;\n}\n\n.border-primary {\n  border-left: 4px solid #0088cc !important; /* 用于活跃账户的左边框 */\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=7556bf64&scoped=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=7556bf64&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7556bf64\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"not-found-page text-center\"},[_c('div',{staticClass:\"error-container\"},[_c('h1',{staticClass:\"display-1\"},[_vm._v(\"404\")]),_c('h2',{staticClass:\"mb-4\"},[_vm._v(\"页面未找到\")]),_c('p',{staticClass:\"lead mb-4\"},[_vm._v(\"您访问的页面不存在或已被移除。\")]),_c('router-link',{staticClass:\"btn btn-primary btn-lg\",attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"bi bi-house-door me-2\"}),_vm._v(\" 返回首页 \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"not-found-page text-center\">\n    <div class=\"error-container\">\n      <h1 class=\"display-1\">404</h1>\n      <h2 class=\"mb-4\">页面未找到</h2>\n      <p class=\"lead mb-4\">您访问的页面不存在或已被移除。</p>\n      <router-link to=\"/\" class=\"btn btn-primary btn-lg\">\n        <i class=\"bi bi-house-door me-2\"></i> 返回首页\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'NotFound'\n};\n</script>\n\n<style scoped>\n.not-found-page {\n  padding: 100px 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 70vh;\n}\n\n.error-container {\n  max-width: 500px;\n}\n\nh1 {\n  font-size: 6rem;\n  color: #dc3545;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NotFound.vue?vue&type=template&id=2970eddd&scoped=true\"\nimport script from \"./NotFound.vue?vue&type=script&lang=js\"\nexport * from \"./NotFound.vue?vue&type=script&lang=js\"\nimport style0 from \"./NotFound.vue?vue&type=style&index=0&id=2970eddd&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2970eddd\",\n  null\n  \n)\n\nexport default component.exports","// src/router/index.js\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport store from '../store'; // 导入 Vuex store\n\n// 导入所有视图组件\nimport Home from '../views/Home.vue';\nimport Login from '../views/Login.vue';\nimport Favorites from '../views/Favorites.vue';\nimport FavoriteDetail from '../views/FavoriteDetail.vue';\nimport Tags from '../views/Tags.vue';\nimport Search from '../views/Search.vue';\nimport Settings from '../views/Settings.vue';\nimport NotFound from '../views/NotFound.vue';\n\nVue.use(VueRouter);\n\n// 路由配置\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login,\n    meta: { guestOnly: true } // 只有访客可以访问\n  },\n  {\n    path: '/favorites',\n    name: 'Favorites',\n    component: Favorites,\n    meta: { requiresAuth: true } // 需要认证才能访问\n  },\n  {\n    path: '/favorites/:id',\n    name: 'FavoriteDetail',\n    component: FavoriteDetail,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/tags',\n    name: 'Tags',\n    component: Tags,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/search',\n    name: 'Search',\n    component: Search,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/settings',\n    name: 'Settings',\n    component: Settings,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '*', // 匹配所有未匹配的路径\n    name: 'NotFound',\n    component: NotFound\n  }\n];\n\nconst router = new VueRouter({\n  mode: 'history', // 使用 HTML5 History 模式，需要服务器端配置（如 Nginx）\n  base: process.env.BASE_URL, // 基础 URL，通常由 Vue CLI 自动配置\n  routes\n});\n\n// 导航守卫 - 处理认证逻辑\nrouter.beforeEach(async (to, from, next) => {\n  // 确保 Vuex store 已经初始化认证状态 (例如，从 localStorage 恢复 token)\n  // 在 Vuex 的 auth 模块中添加 initializeAuth action\n  if (!store.getters['auth/isAuthenticated'] && localStorage.getItem('token')) {\n    try {\n      await store.dispatch('auth/initializeAuth');\n    } catch (error) {\n      console.error('初始化认证失败:', error);\n      // 如果初始化失败（例如 token 无效），则清除 token 并重定向到登录页\n      store.dispatch('auth/logout');\n      return next({ path: '/login', query: { redirect: to.fullPath } });\n    }\n  }\n\n  const isAuthenticated = store.getters['auth/isAuthenticated'];\n\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // 需要认证的页面\n    if (!isAuthenticated) {\n      // 未登录时，重定向到登录页，并带上当前尝试访问的路径作为 redirect 参数\n      next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n      });\n    } else {\n      // 已登录，允许访问\n      next();\n    }\n  } else if (to.matched.some(record => record.meta.guestOnly)) {\n    // 只有访客可以访问的页面 (如登录页)\n    if (isAuthenticated) {\n      // 已登录用户访问访客专属页面，重定向到收藏页 (或 redirect 参数指定的页面)\n      const redirectPath = to.query.redirect || '/favorites';\n      next({ path: redirectPath, replace: true });\n    } else {\n      // 未登录，允许访问\n      next();\n    }\n  } else {\n    // 其他公共页面，直接允许访问\n    next();\n  }\n});\n\nexport default router;","// src/main.js\nimport Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport { BootstrapVue, IconsPlugin } from 'bootstrap-vue';\n\n// 导入Bootstrap和BootstrapVue CSS文件\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css'; // 确保这个也在这里导入\n\n// 安装BootstrapVue\nVue.use(BootstrapVue);\nVue.use(IconsPlugin);\n\nVue.config.productionTip = false;\n\n// ***** 删除或注释掉下面的 axios 拦截器代码 *****\n// import axios from 'axios'; // 这一行也可以删除，因为不再直接使用 axios\n// axios.interceptors.request.use(config => {\n//   const token = store.state.auth.token;\n//   if (token) {\n//     config.headers.Authorization = `Bearer ${token}`;\n//   }\n//   return config;\n// }, error => {\n//   return Promise.reject(error);\n// });\n// ***********************************************\n\n// 创建Vue实例\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorites.vue?vue&type=style&index=0&id=5bd26497&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/default-avatar.f54ffbc1.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=162e6c60&prod&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=style&index=0&id=7556bf64&prod&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=99ae4a10&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/video-placeholder.1ca0faa7.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotFound.vue?vue&type=style&index=0&id=2970eddd&prod&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/image-placeholder.478229a4.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FavoriteDetail.vue?vue&type=style&index=0&id=76cf7e89&prod&scoped=true&lang=css\""],"sourceRoot":""}